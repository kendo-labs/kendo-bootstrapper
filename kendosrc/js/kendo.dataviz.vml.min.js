("function"==typeof define&&define.amd?define:function(t,e){return e()})(["./kendo.dataviz.core.min"],function(){(function(){function t(t){this.view=t}function e(t){this.view=t}function n(){return T.support.browser.msie&&!H()&&window.performance!==void 0}function i(t,e,n){var i=new M(t),r=new M(e),a=o(i.r,r.r,n),s=o(i.g,r.g,n),l=o(i.b,r.b,n);return new M(a,s,l).toHex()}function o(t,e,n){return C.round(n*e+(1-n)*t)}function r(t,e){var n,o,r,a=e.stops,s=a.length,l=L({},e);for(l.stops=[],n=0;s>n;n++)o=a[n],r=l.stops[n]=L({},a[n]),r.color=i(t,o.color,o.opacity),r.opacity=0;return l}var a,s,l,p,d,c,u,f,h,m,y,x,v,b,w,g=jQuery,k=document,C=Math,T=window.kendo,A=T.Class,L=T.deepExtend,D=T.dataviz,M=D.Color,V=D.Box2D,O=D.Point2D,P=D.ExpandAnimation,E=D.ViewBase,I=D.ViewElement,z=D.defined,G=D.renderTemplate,N=D.uniqueId,_=D.rotatePoint,R=D.round,H=D.supportsSVG,F="#000",S=D.CLIP,B=D.COORD_PRECISION,W=D.DEFAULT_WIDTH,j=D.DEFAULT_HEIGHT,U=D.DEFAULT_FONT,Q="object",X="linear",q="radial",J="transparent",K=E.extend({init:function(i){var o=this;E.fn.init.call(o,i),o.decorators.push(new t(o),new e(o)),D.ui.Chart&&o.decorators.push(new D.BarAnimationDecorator(o),new D.PieAnimationDecorator(o),new D.BubbleAnimationDecorator(o)),o.decorators.push(new w(o)),n()||o.decorators.push(new D.FadeAnimationDecorator(o)),D.Gauge&&o.decorators.push(new D.RadialPointerAnimationDecorator(o),new D.ArrowPointerAnimationDecorator(o),new D.BarIndicatorAnimationDecorator(o)),o.template=K.template,o.tagName=o.options.inline?"span":"div",o.template||(o.template=K.template=G("<#= d.tagName # style='width:#= d.options.width #px; height:#= d.options.height #px; position: relative;'>#= d.renderContent() #</#= d.tagName #>"))},options:{width:W,height:j},renderTo:function(t){var e=this;return k.namespaces&&k.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML"),e.setupAnimations(),t.innerHTML=e.render(),e.playAnimations(),t.firstChild},renderElement:function(t){var e,n=k.createElement("div");return n.style.display="none",k.body.appendChild(n),n.innerHTML=t.render(),e=n.firstChild,k.body.removeChild(n),e},createText:function(t,e){return this.decorate(e&&e.rotation?new s(t,e):new a(t,e))},createRect:function(t,e){return this.decorate(new c(t.points(),!0,this.setDefaults(e)))},createLine:function(t,e,n,i,o){return this.decorate(new c([new O(t,e),new O(n,i)],!1,this.setDefaults(o)))},createPolyline:function(t,e,n){return this.decorate(new c(t,e,this.setDefaults(n)))},createCircle:function(t,e,n){return this.decorate(new h(t,e,n))},createSector:function(t,e){return this.decorate(new f(t,e))},createRing:function(t,e){return this.decorate(new u(t,this.setDefaults(e)))},createGroup:function(t){return this.decorate(new m(this.setDefaults(t)))},createGradient:function(t){var e=z(t.cx)&&z(t.cy)&&z(t.bbox);return t.type===q&&e?new b(t):t.type===X?new v(t):F}});K.fromModel=function(t){var e=new K(t.options);return[].push.apply(e.children,t.getViewElements(e)),e},K.available=function(){return T.support.browser.msie},K.preference=50,D.ui.registerView(K),a=I.extend({init:function(t,e){var n=this;I.fn.init.call(n,e),n.content=t,n.template=a.template,n.template||(n.template=a.template=G("<kvml:textbox #= d.renderId() # #= d.renderDataAttributes() #style='position: absolute; left: #= d.options.x #px; top: #= d.options.y #px; font: #= d.options.font #; color: #= d.options.color #; visibility: #= d.renderVisibility() #; white-space: nowrap;'#= d.renderCursor() #>#= d.content #</kvml:textbox>"))},options:{x:0,y:0,font:U,color:F,fillOpacity:1,cursor:{}},refresh:function(t){g(t).css("visibility",this.renderVisibility())},clone:function(){var t=this;return new a(t.content,L({},t.options))},renderVisibility:function(){return this.options.fillOpacity>0?"visible":"hidden"},renderCursor:function(){var t=this.options,e="";return z(t.cursor.style)&&(e+="cursor: "+t.cursor.style+";"),e}}),s=I.extend({init:function(t,e){var n=this;I.fn.init.call(n,e),n.content=t,n.template=s.template,n.template||(n.template=s.template=G("<kvml:shape #= d.renderId() # #= d.renderDataAttributes() #style='position: absolute; top: 0px; left: 0px; width: 1px; height: 1px;' stroked='false' coordsize='1,1'>#= d.renderPath() #<kvml:fill color='#= d.options.color #' /><kvml:textpath on='true' style='font: #= d.options.font #;' fitpath='false' string='#= d.content #' /></kvml:shape>"))},options:{x:0,y:0,font:U,color:F,size:{width:0,height:0}},renderPath:function(){var t=this,e=t.options,n=e.size.width,i=e.size.height,o=e.x+n/2,r=e.y+i/2,a=-e.rotation,s=_(e.x,r,o,r,a),l=_(e.x+n,r,o,r,a);return"<kvml:path textpathok='true' v='m "+R(s.x)+","+R(s.y)+" l "+R(l.x)+","+R(l.y)+"' />"}}),l=I.extend({init:function(t){var e=this;I.fn.init.call(e,t),e.template=l.template,e.template||(e.template=l.template=G('<kvml:stroke on=\'#= !!d.options.stroke #\' #= d.renderAttr("color", d.options.stroke) ##= d.renderAttr("weight", d.options.strokeWidth) ##= d.renderAttr("dashstyle", d.options.dashType) ##= d.renderAttr("opacity", d.options.strokeOpacity) # />'))},refresh:function(t){try{t.opacity=this.options.strokeOpacity}catch(e){}}}),p=I.extend({init:function(t){var e=this;I.fn.init.call(e,t),e.template=p.template,e.template||(e.template=p.template=G('<kvml:fill on=\'#= d.isEnabled() #\' #= d.renderAttr("color", d.options.fill) ##= d.renderAttr("weight", d.options.fillWidth) ##= d.renderAttr("opacity", d.options.fillOpacity) # />'))},isEnabled:function(){var t=this.options.fill;return!!t&&t.toLowerCase()!==J},refresh:function(t){try{t.opacity=this.options.fillOpacity}catch(e){}}}),d=I.extend({init:function(t){var e=this;I.fn.init.call(e,t),e.template=d.template,e.template||(e.template=d.template=G("<kvml:shape #= d.renderId() # #= d.renderDataAttributes() #style='position:absolute; #= d.renderSize() # display:#= d.renderDisplay() #;' coordorigin='0 0' #= d.renderCoordsize() ##= d.renderCursor() #><kvml:path v='#= d.renderPoints() # e' />#= d.fill.render() + d.stroke.render() #</kvml:shape>")),e.stroke=new l(e.options),e.fill=new p(e.options)},options:{fill:"",fillOpacity:1,strokeOpacity:1,rotation:[0,0,0],visible:!0,cursor:{}},renderCoordsize:function(){var t=this.options.align===!1?1e4:1;return"coordsize='"+t+" "+t+"'"},renderSize:function(){var t=this.options.align===!1?100:1;return"width:"+t+"px; height:"+t+"px;"},render:function(){var t=this;return t.fill.options.fillOpacity=t.options.fillOpacity,t.stroke.options.strokeOpacity=t.options.strokeOpacity,I.fn.render.call(t)},renderDisplay:function(){return this.options.visible?"block":"none"},renderPoints:function(){},refresh:function(t){if(t){var e=this,n=g(t),i=n[0].parentNode,o=e.fill,r=e.stroke;i&&(n.find("path")[0].v=this.renderPoints(),o.options=r.options=e.options,o.refresh(n.find("fill")[0]),r.refresh(n.find("stroke")[0]),n.css("display",e.renderDisplay()),i.style.cssText=i.style.cssText)}},renderCursor:function(){var t=this.options,e="";return z(t.cursor.style)&&(e+="cursor: "+t.cursor.style+";"),e}}),c=d.extend({init:function(t,e,n){var i=this;d.fn.init.call(i,n),i.points=t,i.closed=e},renderPoints:function(){var t,e=this,n=e.points,i=n.length,o=function(t){var n=e.options.rotation;return _(t.x,t.y,n[1],n[2],-n[0])},r="m "+e._print(o(n[0]));if(i>1)for(r+=" l ",t=1;i>t;t++)r+=e._print(o(n[t])),i-1>t&&(r+=", ");return e.closed&&(r+=" x"),r},clone:function(){var t=this;return new c(L([],t.points),t.closed,L({},t.options))},_print:function(t){var e=this.options.align===!1?100:1;return C.round(t.x*e)+","+C.round(t.y*e)}}),u=d.extend({init:function(t,e){var n=this;d.fn.init.call(n,e),n.pathTemplate=u.pathTemplate,n.pathTemplate||(n.pathTemplate=u.pathTemplate=G("M #= d.osp.x #,#= d.osp.y # WA #= d.obb.l #,#= d.obb.t # #= d.obb.r #,#= d.obb.b # #= d.osp.x #,#= d.osp.y # #= d.oep.x #,#= d.oep.y # L #= d.iep.x #,#= d.iep.y # AT #= d.ibb.l #,#= d.ibb.t # #= d.ibb.r #,#= d.ibb.b # #= d.iep.x #,#= d.iep.y # #= d.isp.x #,#= d.isp.y # X E")),n.config=t},renderPoints:function(){function t(t){return new O(R(t.x),R(t.y))}var e,n,i,o,r=this,a=r.config,s=C.max(R(a.r),0),l=C.max(R(a.ir),0),p=R(a.c.x),d=R(a.c.y),c=a.startAngle,u=a.angle+c,f=u-c,h={l:p-s,t:d-s,r:p+s,b:d+s},m={l:p-l,t:d-l,r:p+l,b:d+l};return 1>=f?u+=1-f:f>359&&(u-=1-f),e=t(a.point(c)),n=t(a.point(c,!0)),o=t(a.point(u)),i=t(a.point(u,!0)),r.pathTemplate({obb:h,ibb:m,osp:e,isp:n,oep:o,iep:i,cx:p,cy:d})},clone:function(){var t=this;return new u(L({},t.config),L({},t.options))}}),f=u.extend({init:function(t,e){var n=this;u.fn.init.call(n,t,e),n.pathTemplate=f.pathTemplate,n.pathTemplate||(n.pathTemplate=f.pathTemplate=G("M #= d.osp.x #,#= d.osp.y # WA #= d.obb.l #,#= d.obb.t # #= d.obb.r #,#= d.obb.b # #= d.osp.x #,#= d.osp.y # #= d.oep.x #,#= d.oep.y # L #= d.cx #,#= d.cy # X E"))},clone:function(){var t=this;return new f(L({},t.config),L({},t.options))}}),h=I.extend({init:function(t,e,n){var i=this;I.fn.init.call(i,n),i.c=t,i.r=e,i.template=h.template,i.template||(i.template=h.template=G("<kvml:oval #= d.renderId() # #= d.renderDataAttributes() #style='position:absolute; width:#= d.r * 2 #px; height:#= d.r * 2 #px; top:#= d.c.y - d.r #px; left:#= d.c.x - d.r #px;'>#= d.fill.render() + d.stroke.render() #</kvml:oval>")),i.stroke=new l(i.options),i.fill=new p(i.options)},options:{fill:"",fillOpacity:1},refresh:function(t){var e=this,n=e.c,i=C.max(0,e.r),o=2*i,r=g(t);r.css({width:o,height:o,top:n.y-i,left:n.x-i}),e.fill.options=e.options,e.fill.refresh(r.find("fill")[0])},clone:function(){var t=this;return new h(L({},t.c),t.r,L({},t.options))}}),m=I.extend({init:function(t){var e=this;I.fn.init.call(e,t),e.tagName=e.options.inline?"span":"div",e.template=m.template,e.template||(e.template=m.template=G("<#= d.tagName # #= d.renderId() ##= d.renderDataAttributes() #style='position: absolute; white-space: nowrap;'>#= d.renderContent() #</#= d.tagName #>"))}}),y=I.extend({init:function(t,e){var n=this;I.fn.init.call(n,e),n.tagName=n.options.inline?"span":"div",n.template=y.template,n.clipTemplate=y.clipTemplate,n.template||(n.template=y.template=G("<#= d.tagName # #= d.renderId() #style='position:absolute; width:#= d.box.width() #px; height:#= d.box.height() #px; top:#= d.box.y1 #px; left:#= d.box.x1 #px; clip:#= d._renderClip() #;' >#= d.renderContent() #</#= d.tagName #>"),n.clipTemplate=y.clipTemplate=G("rect(#= d.points[0].y #px #= d.points[1].x #px #= d.points[2].y #px #= d.points[0].x #px)")),n.box=t,n.points=t.points()},clone:function(){var t=this;return new y(t.box,L({},t.options))},refresh:function(t){t&&(t.style.clip=this._renderClip())},_renderClip:function(){return this.clipTemplate(this)},destroy:function(){g("#"+this.options.id+">*").unwrap()}}),x=I.extend({init:function(t){var e=this;I.fn.init.call(e,t)},options:{opacity:1},renderColors:function(){var t,e,n=this,i=n.options,o=i.stops,r=o.length,a=[],s=C.round;for(e=0;r>e;e++)t=o[e],a.push(s(100*t.offset)+"% "+t.color);return a.join(",")}}),v=x.extend({init:function(t){var e=this;x.fn.init.call(e,t),e.template=v.template,e.template||(e.template=v.template=G("<kvml:fill type='gradient' angle='#= 270 - d.options.rotation #' colors='#= d.renderColors() #' opacity='#= d.options.opacity #' />"))},options:{rotation:0}}),b=x.extend({init:function(t){var e=this;x.fn.init.call(e,t),e.template=b.template,e.template||(e.template=b.template=G("<kvml:fill type='gradienttitle' focus='100%' focusposition='#= d.focusPosition() #'colors='#= d.renderColors() #' color='#= d.firstColor() #' color2='#= d.lastColor() #' opacity='#= d.options.opacity #' />"))},focusPosition:function(){var t=this.options,e=t.bbox,n=t.cx,i=t.cy,o=Math.max(0,Math.min(1,(n-e.x1)/e.width())),r=Math.max(0,Math.min(1,(i-e.y1)/e.height()));return R(o,B)+" "+R(r,B)},firstColor:function(){var t=this.options.stops;return t[0].color},lastColor:function(){var t=this.options.stops;return t[t.length-1].color}}),t.prototype={decorate:function(t){var e,n,i=t.options,o=this.view;return i.overlay&&(n=i.overlay.bbox,e=o.buildGradient(L({},i.overlay,{_overlayFill:i.fill,_bboxHash:z(n)?n.getHash():""}))),e?(delete i.overlay,i.fill=L(r(i.fill,e),{opacity:i.fillOpacity}),t):t}},e.prototype={decorate:function(t){var e=this,n=e.view,i=t.options,o=i.fill;return o&&o.supportVML!==!1&&(o.gradient&&(o=n.buildGradient(o)),typeof o===Q&&(t.fill=n.createGradient(o))),t}},w=A.extend({init:function(t){this.view=t},decorate:function(t){var e,n=this,i=n.view,o=i.options,r=t.options.animation;return r&&r.type===S&&o.transitions?(e=new y(new V(0,0,o.width,o.height),{id:N(),inline:o.inline}),i.animations.push(new P(e,{size:o.width})),e.children.push(t),e):t}}),L(D,{VMLCircle:h,VMLClipAnimationDecorator:w,VMLClipRect:y,VMLFill:p,VMLGroup:m,VMLLine:c,VMLLinearGradient:v,VMLOverlayDecorator:t,VMLPath:d,VMLRadialGradient:b,VMLRing:u,VMLRotatedText:s,VMLSector:f,VMLStroke:l,VMLText:a,VMLView:K,blendColors:i,blendGradient:r})})(window.kendo.jQuery)});