("function"==typeof define&&define.amd?define:function(e,t){return t()})(["./kendo.core.min"],function(){(function(e,t){var n=window.kendo,r=e.isArray,i=e.isPlainObject,a=e.map,o=e.each,f=e.extend,d=n.getter,l=n.Class,u=l.extend({init:function(e){var t,d,l,u=this,s=e.total,p=e.model,c=e.parse,m=e.data;p&&(i(p)&&(p.fields&&o(p.fields,function(e,t){t=i(t)&&t.field?f(t,{field:u.getter(t.field)}):{field:u.getter(t)},p.fields[e]=t}),t=p.id,t&&(d={},d[u.xpathToMember(t,!0)]={field:u.getter(t)},p.fields=f(d,p.fields),p.id=u.xpathToMember(t)),p=n.data.Model.define(p)),u.model=p),s&&("string"==typeof s?(s=u.getter(s),u.total=function(e){return parseInt(s(e),10)}):"function"==typeof s&&(u.total=s)),m&&("string"==typeof m?(m=u.xpathToMember(m),u.data=function(e){var t,n=u.evaluate(e,m);return n=r(n)?n:[n],u.model&&p.fields?(t=new u.model,a(n,function(e){if(e){var n,r={};for(n in p.fields)r[n]=t._parse(n,p.fields[n].field(e));return r}})):n}):"function"==typeof m&&(u.data=m)),"function"==typeof c&&(l=u.parse,u.parse=function(e){var t=c.call(u,e);return l.call(u,t)})},total:function(e){return this.data(e).length},errors:function(e){return e?e.errors:null},parseDOM:function(e){var n,i,a,o,f,d,l,u={},s=e.attributes,p=s.length;for(l=0;p>l;l++)d=s[l],u["@"+d.nodeName]=d.nodeValue;for(i=e.firstChild;i;i=i.nextSibling)a=i.nodeType,3===a||4===a?u["#text"]=i.nodeValue:1===a&&(n=this.parseDOM(i),o=i.nodeName,f=u[o],r(f)?f.push(n):f=f!==t?[f,n]:n,u[o]=f);return u},evaluate:function(e,t){for(var n,i,a,o,f,d=t.split(".");n=d.shift();)if(e=e[n],r(e)){for(i=[],t=d.join("."),f=0,a=e.length;a>f;f++)o=this.evaluate(e[f],t),o=r(o)?o:[o],i.push.apply(i,o);return i}return e},parse:function(t){var n,r,i={};return n=t.documentElement||e.parseXML(t).documentElement,r=this.parseDOM(n),i[n.nodeName]=r,i},xpathToMember:function(e,t){return e?(e=e.replace(/^\//,"").replace(/\//g,"."),e.indexOf("@")>=0?e.replace(/\.?(@.*)/,t?"$1":'["$1"]'):e.indexOf("text()")>=0?e.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):e):""},getter:function(e){return d(this.xpathToMember(e),!0)}});e.extend(!0,n.data,{XmlDataReader:u,readers:{xml:u}})})(window.kendo.jQuery)});