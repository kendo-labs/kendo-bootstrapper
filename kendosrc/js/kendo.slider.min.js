("function"==typeof define&&define.amd?define:function(t,e){return e()})(["./kendo.draganddrop.min"],function(){!function(t,e){function a(t,e,a){var i=a?" k-slider-horizontal":" k-slider-vertical",n=t.style?t.style:e.attr("style"),o=e.attr("class")?" "+e.attr("class"):"",l="";return"bottomRight"==t.tickPlacement?l=" k-slider-bottomright":"topLeft"==t.tickPlacement&&(l=" k-slider-topleft"),n=n?" style='"+n+"'":"","<div class='k-widget k-slider"+i+o+"'"+n+">"+"<div class='k-slider-wrap"+(t.showButtons?" k-slider-buttons":"")+l+"'></div></div>"}function i(t,e,a){var i="";return i="increase"==e?a?"k-i-arrow-e":"k-i-arrow-n":a?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+e+"'><span class='k-icon "+i+"' title='"+t[e+"ButtonTitle"]+"'>"+t[e+"ButtonTitle"]+"</span></a>"}function n(t,e){var a,i="<ul class='k-reset k-slider-items'>",n=w.floor(d(e/t.smallStep))+1;for(a=0;n>a;a++)i+="<li class='k-tick' role='presentation'>&nbsp;</li>";return i+="</ul>"}function o(t,e){var a=e.is("input")?1:2,i=2==a?t.leftDragHandleTitle:t.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+i+"' role='slider' aria-valuemin='"+t.min+"' aria-valuemax='"+t.max+"' aria-valuenow='"+(a>1?t.selectionStart||t.min:t.value||t.min)+"'>Drag</a>"+(a>1?"<a href='#' class='k-draghandle' title='"+t.rightDragHandleTitle+"'role='slider' aria-valuemin='"+t.min+"' aria-valuemax='"+t.max+"' aria-valuenow='"+(t.selectionEnd||t.max)+"'>Drag</a>":"")+"</div>"}function l(t){return function(e){return e+t}}function r(t){return function(){return t}}function s(t){return(t+"").replace(".",f.cultures.current.numberFormat["."])}function d(t){t=parseFloat(t,10);var e=w.pow(10,L||0);return w.round(t*e)/e}function u(t,a){var i=h(t.getAttribute(a));return null===i&&(i=e),i}function c(t){return typeof t!==X}var p,f=window.kendo,_=f.ui.Widget,v=f.ui.Draggable,m=t.extend,g=f.format,h=f.parseFloat,S=t.proxy,k=t.isArray,w=Math,x=f.support,D=x.pointers,H="change",b="slide",T=".slider",y="touchstart"+T+" mousedown"+T,z=D?"MSPointerDown"+T:y,E="touchend"+T+" mouseup"+T,I=D?"MSPointerUp"+T:E,C="moveSelection",R="keydown"+T,V="click"+T,q="mouseover"+T,A="focus"+T,W="blur"+T,M=".k-draghandle",F=".k-slider-track",P=".k-tick",B="k-state-selected",O="k-state-default",N="k-state-disabled",L=3,Z="disabled",X="undefined",Y="tabindex",j=f.getTouches,Q=_.extend({init:function(t,e){var a,i,o,s=this;_.fn.init.call(s,t,e),e=s.options,s._distance=e.max-e.min,s._isHorizontal="horizontal"==e.orientation,s._isRtl=s._isHorizontal&&f.support.isRtl(t),s._position=s._isHorizontal?"left":"bottom",s._size=s._isHorizontal?"width":"height",s._outerSize=s._isHorizontal?"outerWidth":"outerHeight",e.tooltip.format=e.tooltip.enabled?e.tooltip.format||"{0}":"{0}",s._createHtml(),s.wrapper=s.element.closest(".k-slider"),s._trackDiv=s.wrapper.find(F),s._setTrackDivWidth(),s._maxSelection=s._trackDiv[s._size](),a=s._maxSelection/((e.max-e.min)/e.smallStep),i=s._calculateItemsWidth(w.floor(s._distance/e.smallStep)),"none"!=e.tickPlacement&&a>=2&&(s._trackDiv.before(n(e,s._distance)),s._setItemsWidth(i),s._setItemsTitle(),s._setItemsLargeTick()),s._calculateSteps(i),s._tabindex(s.wrapper.find(M)),s[e.enabled?"enable":"disable"](),o=f.support.isRtl(s.wrapper)?-1:1,s._keyMap={37:l(-1*o*e.smallStep),40:l(-e.smallStep),39:l(1*o*e.smallStep),38:l(+e.smallStep),35:r(e.max),36:r(e.min),33:l(+e.largeStep),34:l(-e.largeStep)},f.notify(s)},events:[H,b],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_setTrackDivWidth:function(){var t=this,e=2*parseFloat(t._trackDiv.css(t._isRtl?"right":t._position),10);t._trackDiv[t._size](t.wrapper[t._size]()-2-e)},_setItemsWidth:function(e){var a,i=this,n=i.options,o=0,l=e.length-1,r=i.wrapper.find(P),s=0,d=2,u=r.length,c=0;for(a=0;u-2>a;a++)t(r[a+1])[i._size](e[a]);if(i._isHorizontal?(t(r[o]).addClass("k-first")[i._size](e[l-1]),t(r[l]).addClass("k-last")[i._size](e[l])):(t(r[l]).addClass("k-first")[i._size](e[l]),t(r[o]).addClass("k-last")[i._size](e[l-1])),0!==i._distance%n.smallStep&&!i._isHorizontal){for(a=0;a<e.length;a++)c+=e[a];s=i._maxSelection-c,s+=parseFloat(i._trackDiv.css(i._position),10)+d,i.wrapper.find(".k-slider-items").css("padding-top",s)}},_setItemsTitle:function(){for(var e=this,a=e.options,i=e.wrapper.find(P),n=a.min,o=i.length,l=e._isHorizontal&&!e._isRtl?0:o-1,r=e._isHorizontal&&!e._isRtl?o:-1,s=e._isHorizontal&&!e._isRtl?1:-1;0!==l-r;l+=s)t(i[l]).attr("title",g(a.tooltip.format,d(n))),n+=a.smallStep},_setItemsLargeTick:function(){var e,a=this,i=a.options,n=a.wrapper.find(P),o={},l=d(i.largeStep/i.smallStep);if(0===1e3*i.largeStep%(1e3*i.smallStep))if(a._isHorizontal&&!a._isRtl)for(e=0;e<n.length;e=d(e+l))o=t(n[e]),o.addClass("k-tick-large").html("<span class='k-label'>"+o.attr("title")+"</span>");else for(e=n.length-1;e>=0;e=d(e-l))o=t(n[e]),o.addClass("k-tick-large").html("<span class='k-label'>"+o.attr("title")+"</span>"),a._isRtl||0!==e&&e!==n.length-1&&o.css("line-height",o[a._size]()+"px")},_calculateItemsWidth:function(t){var e,a,i,n=this,o=n.options,l=parseFloat(n._trackDiv.css(n._size))+1,r=l/n._distance;for(n._distance/o.smallStep-w.floor(n._distance/o.smallStep)>0&&(l-=n._distance%o.smallStep*r),e=l/t,a=[],i=0;t-1>i;i++)a[i]=e;return a[t-1]=a[t]=e/2,n._roundWidths(a)},_roundWidths:function(t){var e,a=0,i=t.length;for(e=0;i>e;e++)a+=t[e]-w.floor(t[e]),t[e]=w.floor(t[e]);return a=w.round(a),this._addAdditionalSize(a,t)},_addAdditionalSize:function(t,e){if(0===t)return e;var a,i=parseFloat(e.length-1)/parseFloat(1==t?t:t-1);for(a=0;t>a;a++)e[parseInt(w.round(i*a),10)]+=1;return e},_calculateSteps:function(t){var e,a=this,i=a.options,n=i.min,o=0,l=w.ceil(a._distance/i.smallStep),r=1;if(l+=0===a._distance/i.smallStep%1?1:0,t.splice(0,0,2*t[l-2]),t.splice(l-1,1,2*t.pop()),a._pixelSteps=[o],a._values=[n],0!==l){for(;l>r;)o+=(t[r-1]+t[r])/2,a._pixelSteps[r]=o,a._values[r]=n+=i.smallStep,r++;e=0===a._distance%i.smallStep?l-1:l,a._pixelSteps[e]=a._maxSelection,a._values[e]=i.max,a._isRtl&&(a._pixelSteps.reverse(),a._values.reverse())}},_getValueFromPosition:function(t,e){var a,i=this,n=i.options,o=w.max(n.smallStep*(i._maxSelection/i._distance),0),l=0,r=o/2;if(i._isHorizontal?(l=t-e.startPoint,i._isRtl&&(l=i._maxSelection-l)):l=e.startPoint-t,i._maxSelection-(parseInt(i._maxSelection%o,10)-3)/2<l)return n.max;for(a=0;a<i._pixelSteps.length;a++)if(w.abs(i._pixelSteps[a]-l)-1<=r)return d(i._values[a])},_getFormattedValue:function(t,e){var a,i,n,o=this,l="",r=o.options.tooltip;return k(t)?(i=t[0],n=t[1]):e&&e.type&&(i=e.selectionStart,n=e.selectionEnd),e&&(a=e.tooltipTemplate),!a&&r.template&&(a=f.template(r.template)),k(t)||e&&e.type?a?l=a({selectionStart:i,selectionEnd:n}):(i=g(r.format,i),n=g(r.format,n),l=i+" - "+n):(e&&(e.val=t),l=a?a({value:t}):g(r.format,t)),l},_getDraggableArea:function(){var t=this,e=f.getOffset(t._trackDiv);return{startPoint:t._isHorizontal?e.left:e.top+t._maxSelection,endPoint:t._isHorizontal?e.left+t._maxSelection:e.top}},_createHtml:function(){var t=this,e=t.element,n=t.options,l=e.find("input");2==l.length?(l.eq(0).val(n.selectionStart),l.eq(1).val(n.selectionEnd)):e.val(n.value),e.wrap(a(n,e,t._isHorizontal)).hide(),n.showButtons&&e.before(i(n,"increase",t._isHorizontal)).before(i(n,"decrease",t._isHorizontal)),e.before(o(n,e))},_focus:function(e){var a=this,i=e.target,n=a.value(),o=a._drag;o||(i==a.wrapper.find(M).eq(0)[0]?(o=a._firstHandleDrag,a._activeHandle=0):(o=a._lastHandleDrag,a._activeHandle=1),n=n[a._activeHandle]),t(i).addClass(B),o&&(a._activeHandleDrag=o,o.selectionStart=a.options.selectionStart,o.selectionEnd=a.options.selectionEnd,o._updateTooltip(n))},_focusWithMouse:function(e){var a=this,i=t(e.target),n=i.is(M)?i.index():0;window.setTimeout(function(){a.wrapper.find(M)[2==n?1:0].focus()},1),a._setTooltipTimeout()},_blur:function(e){var a=this,i=a._activeHandleDrag;t(e.target).removeClass(B),i&&(i._removeTooltip(),delete a._activeHandleDrag,delete a._activeHandle)},_setTooltipTimeout:function(){var t=this;t._tooltipTimeout=window.setTimeout(function(){var e=t._drag||t._activeHandleDrag;e&&e._removeTooltip()},300)},_clearTooltipTimeout:function(){var t,e=this;window.clearTimeout(this._tooltipTimeout),t=e._drag||e._activeHandleDrag,t&&t.tooltipDiv&&t.tooltipDiv.stop(!0,!1).css("opacity",1)}}),U=Q.extend({init:function(a,i){var n,o=this;a.type="text",i=m({},{value:u(a,"value"),min:u(a,"min"),max:u(a,"max"),smallStep:u(a,"step")},i),a=t(a),i&&i.enabled===e&&(i.enabled=!a.is("[disabled]")),Q.fn.init.call(o,a,i),i=o.options,c(i.value)&&null!==i.value||(i.value=i.min,a.val(i.min)),i.value=w.max(w.min(i.value,i.max),i.min),n=o.wrapper.find(M),new U.Selection(n,o,i),o._drag=new U.Drag(n,"",o,i)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0}"},value:null},enable:function(a){var i,n,o,l=this,r=l.options;l.disable(),a!==!1&&(l.wrapper.removeClass(N).addClass(O),l.wrapper.find("input").removeAttr(Z),i=function(a){var i,n,o,r=j(a)[0];if(r){if(i=l._isHorizontal?r.location.pageX:r.location.pageY,n=l._getDraggableArea(),o=t(a.target),o.hasClass("k-draghandle"))return o.addClass(B),e;l._update(l._getValueFromPosition(i,n)),l._focusWithMouse(a),l._drag.dragstart(a),a.preventDefault()}},l.wrapper.find(P+", "+F).on(z,i).end().on(z,function(){t(document.documentElement).one("selectstart",f.preventDefault)}).on(I,function(){l._drag._end()}),l.wrapper.find(M).attr(Y,0).on(E,function(){l._setTooltipTimeout()}).on(V,function(t){l._focusWithMouse(t),t.preventDefault()}).on(A,S(l._focus,l)).on(W,S(l._blur,l)),n=S(function(t){var e=l._nextValueByIndex(l._valueIndex+1*t);l._setValueInRange(e),l._drag._updateTooltip(e)},l),r.showButtons&&(o=S(function(t,e){this._clearTooltipTimeout(),(1===t.which||x.touch&&0===t.which)&&(n(e),this.timeout=setTimeout(S(function(){this.timer=setInterval(function(){n(e)},60)},this),200))},l),l.wrapper.find(".k-button").on(E,S(function(t){this._clearTimer(),l._focusWithMouse(t)},l)).on(q,function(e){t(e.currentTarget).addClass("k-state-hover")}).on("mouseout"+T,S(function(e){t(e.currentTarget).removeClass("k-state-hover"),this._clearTimer()},l)).eq(0).on(y,S(function(t){o(t,1)},l)).click(!1).end().eq(1).on(y,S(function(t){o(t,-1)},l)).click(f.preventDefault)),l.wrapper.find(M).off(R,!1).on(R,S(this._keydown,l)),r.enabled=!0)},disable:function(){var e=this;e.wrapper.removeClass(O).addClass(N),t(e.element).prop(Z,Z),e.wrapper.find(".k-button").off(y).on(y,f.preventDefault).off(E).on(E,f.preventDefault).off("mouseleave"+T).on("mouseleave"+T,f.preventDefault).off(q).on(q,f.preventDefault),e.wrapper.find(P+", "+F).off(z).off(I),e.wrapper.find(M).attr(Y,-1).off(E).off(R).off(V).off(A).off(W),e.options.enabled=!1},_update:function(t){var e=this,a=e.value()!=t;e.value(t),a&&e.trigger(H,{value:e.options.value})},value:function(t){var a=this,i=a.options;return t=d(t),isNaN(t)?i.value:(t>=i.min&&t<=i.max&&i.value!=t&&(a.element.prop("value",s(t)),i.value=t,a._refreshAriaAttr(t),a._refresh()),e)},_refresh:function(){this.trigger(C,{value:this.options.value})},_refreshAriaAttr:function(t){var e,a=this,i=a._drag;e=i&&i._tooltipDiv?i._tooltipDiv.text():a._getFormattedValue(t,null),this.wrapper.find(M).attr("aria-valuenow",t).attr("aria-valuetext",e)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(t){var e=this;t.keyCode in e._keyMap&&(e._clearTooltipTimeout(),e._setValueInRange(e._keyMap[t.keyCode](e.options.value)),e._drag._updateTooltip(e.value()),t.preventDefault())},_setValueInRange:function(t){var a=this,i=a.options;return t=d(t),isNaN(t)?(a._update(i.min),e):(t=w.max(w.min(t,i.max),i.min),a._update(t),e)},_nextValueByIndex:function(t){var e=this._values.length;return this._isRtl&&(t=e-1-t),this._values[w.max(0,w.min(t,e-1))]},destroy:function(){var t=this;_.fn.destroy.call(t),t.wrapper.off(T).find(".k-button").off(T).end().find(M).off(T).end().find(P+", "+F).off(T).end(),t._drag.draggable.destroy()}});U.Selection=function(t,e,a){function i(i){var n=i-a.min,o=e._valueIndex=w.ceil(d(n/a.smallStep)),l=parseInt(e._pixelSteps[o],10),r=e._trackDiv.find(".k-slider-selection"),s=parseInt(t[e._outerSize]()/2,10),u=e._isRtl?2:0;r[e._size](e._isRtl?e._maxSelection-l:l),t.css(e._position,l-s-u)}i(a.value),e.bind([H,b,C],function(t){i(parseFloat(t.value,10))})},U.Drag=function(t,e,a,i){var n=this;n.owner=a,n.options=i,n.dragHandle=t,n.dragHandleSize=t[a._outerSize](),n.type=e,n.draggable=new v(t,{distance:0,dragstart:S(n._dragstart,n),drag:S(n.drag,n),dragend:S(n.dragend,n),dragcancel:S(n.dragcancel,n)}),t.click(!1)},U.Drag.prototype={dragstart:function(t){this.draggable.userEvents._start(t)},_dragstart:function(a){var i=this,n=i.owner,o=i.options;return o.enabled?(n.element.off(q),i.dragHandle.addClass(B),t(document.documentElement).css("cursor","pointer"),i.dragableArea=n._getDraggableArea(),i.step=w.max(o.smallStep*(n._maxSelection/n._distance),0),i.type?(i.selectionStart=o.selectionStart,i.selectionEnd=o.selectionEnd,n._setZIndex(i.type)):i.oldVal=i.val=o.value,i._removeTooltip(!0),i._createTooltip(),e):(a.preventDefault(),e)},_createTooltip:function(){var e,a,i=this,n=i.owner,o=i.options.tooltip,l="",r=t(window);o.enabled&&(o.template&&(e=i.tooltipTemplate=f.template(o.template)),t(".k-slider-tooltip").remove(),i.tooltipDiv=t("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),l=n._getFormattedValue(i.val||n.value(),i),i.type||(a="k-callout-"+(n._isHorizontal?"s":"e"),i.tooltipInnerDiv="<div class='k-callout "+a+"'><!-- --></div>",l+=i.tooltipInnerDiv),i.tooltipDiv.html(l),i._scrollOffset={top:r.scrollTop(),left:r.scrollLeft()},i.moveTooltip())},drag:function(t){var e,a=this,i=a.owner,n=t.x.location,o=t.y.location,l=a.dragableArea.startPoint,r=a.dragableArea.endPoint;t.preventDefault(),a.val=i._isHorizontal?i._isRtl?a.constrainValue(n,l,r,r>n):a.constrainValue(n,l,r,n>=r):a.constrainValue(o,r,l,r>=o),a.oldVal!=a.val&&(a.oldVal=a.val,a.type?("firstHandle"==a.type?a.selectionStart=a.val<a.selectionEnd?a.val:a.selectionEnd=a.val:a.val>a.selectionStart?a.selectionEnd=a.val:a.selectionStart=a.selectionEnd=a.val,e={values:[a.selectionStart,a.selectionEnd],value:[a.selectionStart,a.selectionEnd]}):e={value:a.val},i.trigger(b,e)),a._updateTooltip(a.val)},_updateTooltip:function(t){var e=this,a=e.options,i=a.tooltip,n="";i.enabled&&(e.tooltipDiv||e._createTooltip(),n=e.owner._getFormattedValue(d(t),e),e.type||(n+=e.tooltipInnerDiv),e.tooltipDiv.html(n),e.moveTooltip())},dragcancel:function(){return this.owner._refresh(),t(document.documentElement).css("cursor",""),this._end()},dragend:function(){var e=this,a=e.owner;return t(document.documentElement).css("cursor",""),e.type?a._update(e.selectionStart,e.selectionEnd):a._update(e.val),e._end()},_end:function(){var t=this,e=t.owner;return e._focusWithMouse({target:t.dragHandle[0]}),e.element.on(q),!1},_removeTooltip:function(e){var a=this,i=a.owner;a.tooltipDiv&&i.options.tooltip.enabled&&i.options.enabled&&(e?(a.tooltipDiv.remove(),a.tooltipDiv=null):a.tooltipDiv.fadeOut("slow",function(){t(this).remove(),a.tooltipDiv=null}))},moveTooltip:function(){var e,a,i,n,o=this,l=o.owner,r=0,s=0,d=o.dragHandle,u=f.getOffset(d),c=8,p=t(window),_=o.tooltipDiv.find(".k-callout"),v=o.tooltipDiv.outerWidth(),m=o.tooltipDiv.outerHeight();o.type?(e=l.wrapper.find(M),u=f.getOffset(e.eq(0)),a=f.getOffset(e.eq(1)),l._isHorizontal?(r=a.top,s=u.left+(a.left-u.left)/2):(r=u.top+(a.top-u.top)/2,s=a.left),n=e.eq(0).outerWidth()+2*c):(r=u.top,s=u.left,n=d.outerWidth()+2*c),l._isHorizontal?(s-=parseInt((v-d[l._outerSize]())/2,10),r-=m+_.height()+c):(r-=parseInt((m-d[l._outerSize]())/2,10),s-=v+_.width()+c),l._isHorizontal?(i=o._flip(r,m,n,p.outerHeight()+o._scrollOffset.top),r+=i,s+=o._fit(s,v,p.outerWidth()+o._scrollOffset.left)):(i=o._flip(s,v,n,p.outerWidth()+o._scrollOffset.left),r+=o._fit(r,m,p.outerHeight()+o._scrollOffset.top),s+=i),i>0&&_&&(_.removeClass(),_.addClass("k-callout k-callout-"+(l._isHorizontal?"n":"w"))),o.tooltipDiv.css({top:r,left:s})},_fit:function(t,e,a){var i=0;return t+e>a&&(i=a-(t+e)),0>t&&(i=-t),i},_flip:function(t,e,a,i){var n=0;return t+e>i&&(n+=-(a+e)),0>t+n&&(n+=a+e),n},constrainValue:function(t,e,a,i){var n=this,o=0;return o=t>e&&a>t?n.owner._getValueFromPosition(t,n.dragableArea):i?n.options.max:n.options.min}},f.ui.plugin(U),p=Q.extend({init:function(a,i){var n,o=this,l=t(a).find("input"),r=l.eq(0)[0],s=l.eq(1)[0];r.type="text",s.type="text",i=m({},{selectionStart:u(r,"value"),min:u(r,"min"),max:u(r,"max"),smallStep:u(r,"step")},{selectionEnd:u(s,"value"),min:u(s,"min"),max:u(s,"max"),smallStep:u(s,"step")},i),i&&i.enabled===e&&(i.enabled=!l.is("[disabled]")),Q.fn.init.call(o,a,i),i=o.options,c(i.selectionStart)&&null!==i.selectionStart||(i.selectionStart=i.min,l.eq(0).val(i.min)),c(i.selectionEnd)&&null!==i.selectionEnd||(i.selectionEnd=i.max,l.eq(1).val(i.max)),n=o.wrapper.find(M),new p.Selection(n,o,i),o._firstHandleDrag=new U.Drag(n.eq(0),"firstHandle",o,i),o._lastHandleDrag=new U.Drag(n.eq(1),"lastHandle",o,i)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0}"},selectionStart:null,selectionEnd:null},enable:function(a){var i,n=this,o=n.options;n.disable(),a!==!1&&(n.wrapper.removeClass(N).addClass(O),n.wrapper.find("input").removeAttr(Z),i=function(a){var i,l,r,s,d,u=j(a)[0];if(u){if(l=n._isHorizontal?u.location.pageX:u.location.pageY,r=n._getDraggableArea(),s=n._getValueFromPosition(l,r),d=t(a.target),d.hasClass("k-draghandle"))return d.addClass(B),e;s<o.selectionStart?(n._setValueInRange(s,o.selectionEnd),n._firstHandleDrag.dragstart(a),i=0):s>n.selectionEnd?(n._setValueInRange(o.selectionStart,s),n._lastHandleDrag.dragstart(a),i=1):s-o.selectionStart<=o.selectionEnd-s?(n._setValueInRange(s,o.selectionEnd),n._firstHandleDrag.dragstart(a),i=0):(n._setValueInRange(o.selectionStart,s),n._lastHandleDrag.dragstart(a),i=1),n._focusWithMouse({target:n.wrapper.find(M)[i]})}},n.wrapper.find(P+", "+F).on(z,i).end().on(z,function(){t(document.documentElement).one("selectstart",f.preventDefault)}).on(I,function(){n._drag._end()}),n.wrapper.find(M).attr(Y,0).on(E,function(){n._setTooltipTimeout()}).on(V,function(t){n._focusWithMouse(t),t.preventDefault()}).on(A,S(n._focus,n)).on(W,S(n._blur,n)),n.wrapper.find(M).off(R,f.preventDefault).eq(0).on(R,S(function(t){this._keydown(t,"firstHandle")},n)).end().eq(1).on(R,S(function(t){this._keydown(t,"lastHandle")},n)),n.options.enabled=!0)},disable:function(){var t=this;t.wrapper.removeClass(O).addClass(N),t.wrapper.find("input").prop(Z,Z),t.wrapper.find(P+", "+F).off(z).off(I),t.wrapper.find(M).attr(Y,-1).off(E).off(R).off(V).off(A).off(W),t.options.enabled=!1},_keydown:function(t,e){var a,i,n,o=this,l=o.options.selectionStart,r=o.options.selectionEnd;t.keyCode in o._keyMap&&(o._clearTooltipTimeout(),"firstHandle"==e?(n=o._activeHandleDrag=o._firstHandleDrag,l=o._keyMap[t.keyCode](l),l>r&&(r=l)):(n=o._activeHandleDrag=o._lastHandleDrag,r=o._keyMap[t.keyCode](r),l>r&&(l=r)),o._setValueInRange(l,r),a=Math.max(l,o.options.selectionStart),i=Math.min(r,o.options.selectionEnd),n.selectionEnd=Math.max(i,o.options.selectionStart),n.selectionStart=Math.min(a,o.options.selectionEnd),n._updateTooltip(o.value()[o._activeHandle]),t.preventDefault())},_update:function(t,e){var a=this,i=a.value(),n=i[0]!=t||i[1]!=e;a.value([t,e]),n&&a.trigger(H,{values:[t,e],value:[t,e]})},value:function(t){return t&&t.length?this._value(t[0],t[1]):this._value()},_value:function(t,a){var i=this,n=i.options,o=n.selectionStart,l=n.selectionEnd;return isNaN(t)&&isNaN(a)?[o,l]:(t=d(t),a=d(a),t>=n.min&&t<=n.max&&a>=n.min&&a<=n.max&&a>=t&&(o!=t||l!=a)&&(i.element.find("input").eq(0).prop("value",s(t)).end().eq(1).prop("value",s(a)),n.selectionStart=t,n.selectionEnd=a,i._refresh(),i._refreshAriaAttr(t,a)),e)},values:function(t,e){return k(t)?this._value(t[0],t[1]):this._value(t,e)},_refresh:function(){var t=this,e=t.options;t.trigger(C,{values:[e.selectionStart,e.selectionEnd],value:[e.selectionStart,e.selectionEnd]}),e.selectionStart==e.max&&e.selectionEnd==e.max&&t._setZIndex("firstHandle")},_refreshAriaAttr:function(t,e){var a,i=this,n=i.wrapper.find(M),o=i._activeHandleDrag;a=i._getFormattedValue([t,e],o),n.eq(0).attr("aria-valuenow",t),n.eq(1).attr("aria-valuenow",e),n.attr("aria-valuetext",a)},_setValueInRange:function(t,e){var a=this.options;t=w.max(w.min(t,a.max),a.min),e=w.max(w.min(e,a.max),a.min),t==a.max&&e==a.max&&this._setZIndex("firstHandle"),this._update(w.min(t,e),w.max(t,e))},_setZIndex:function(e){this.wrapper.find(M).each(function(a){t(this).css("z-index","firstHandle"==e?1-a:a)})},destroy:function(){var t=this;_.fn.destroy.call(t),t.wrapper.off(T).find(P+", "+F).off(T).end().find(M).off(T),t._firstHandleDrag.draggable.destroy(),t._lastHandleDrag.draggable.destroy()}}),p.Selection=function(t,e,a){function i(i){i=i||[];var o=i[0]-a.min,l=i[1]-a.min,r=w.ceil(d(o/a.smallStep)),s=w.ceil(d(l/a.smallStep)),u=e._pixelSteps[r],c=e._pixelSteps[s],p=parseInt(t.eq(0)[e._outerSize]()/2,10),f=e._isRtl?2:0;t.eq(0).css(e._position,u-p-f).end().eq(1).css(e._position,c-p-f),n(u,c)}function n(t,a){var i,n,o=e._trackDiv.find(".k-slider-selection");i=w.abs(t-a),o[e._size](i),e._isRtl?(n=w.max(t,a),o.css("right",e._maxSelection-n-1)):(n=w.min(t,a),o.css(e._position,n-1))}i(e.value()),e.bind([H,b,C],function(t){i(t.values)})},f.ui.plugin(p)}(window.kendo.jQuery)});