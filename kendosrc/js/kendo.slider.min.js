("function"==typeof define&&define.amd?define:function(t,e){return e()})(["./kendo.draganddrop.min"],function(){(function(t,e){function a(t,e,a){var n=a?" k-slider-horizontal":" k-slider-vertical",i=t.style?t.style:e.attr("style"),o=e.attr("class")?" "+e.attr("class"):"",l="";return"bottomRight"==t.tickPlacement?l=" k-slider-bottomright":"topLeft"==t.tickPlacement&&(l=" k-slider-topleft"),i=i?" style='"+i+"'":"","<div class='k-widget k-slider"+n+o+"'"+i+">"+"<div class='k-slider-wrap"+(t.showButtons?" k-slider-buttons":"")+l+"'></div></div>"}function n(t,e,a){var n="";return n="increase"==e?a?"k-i-arrow-e":"k-i-arrow-n":a?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+e+"'><span class='k-icon "+n+"' title='"+t[e+"ButtonTitle"]+"'>"+t[e+"ButtonTitle"]+"</span></a>"}function i(t,e){var a,n="<ul class='k-reset k-slider-items'>",i=w.floor(d(e/t.smallStep))+1;for(a=0;i>a;a++)n+="<li class='k-tick' role='presentation'>&nbsp;</li>";return n+="</ul>"}function o(t,e){var a=e.is("input")?1:2,n=2==a?t.leftDragHandleTitle:t.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+n+"' role='slider' aria-valuemin='"+t.min+"' aria-valuemax='"+t.max+"' aria-valuenow='"+(a>1?t.selectionStart||t.min:t.value||t.min)+"'>Drag</a>"+(a>1?"<a href='#' class='k-draghandle' title='"+t.rightDragHandleTitle+"'role='slider' aria-valuemin='"+t.min+"' aria-valuemax='"+t.max+"' aria-valuenow='"+(t.selectionEnd||t.max)+"'>Drag</a>":"")+"</div>"}function l(t){return function(e){return e+t}}function r(t){return function(){return t}}function s(t){return(t+"").replace(".",f.cultures.current.numberFormat["."])}function d(t){t=parseFloat(t,10);var e=w.pow(10,O||0);return w.round(t*e)/e}function u(t,a){var n=h(t.getAttribute(a));return null===n&&(n=e),n}function c(t){return typeof t!==Z}var p,f=window.kendo,_=f.ui.Widget,v=f.ui.Draggable,m=t.extend,g=f.format,h=f.parseFloat,S=t.proxy,k=t.isArray,w=Math,x=f.support,D=x.pointers,H="change",b="slide",T=".slider",y="touchstart"+T+" mousedown"+T,z=D?"MSPointerDown"+T:"mousedown"+T+" touchstart"+T,E="touchend"+T+" mouseup"+T,I="moveSelection",C="keydown"+T,R="click"+T,V="mouseover"+T,q="focus"+T,A="blur"+T,M=".k-draghandle",W=".k-slider-track",F=".k-tick",P="k-state-selected",B="k-state-default",N="k-state-disabled",O=3,L="disabled",Z="undefined",j=f.touchLocation,Q=_.extend({init:function(t,e){var a,n,o,s=this;_.fn.init.call(s,t,e),e=s.options,s._distance=e.max-e.min,s._isHorizontal="horizontal"==e.orientation,s._isRtl=s._isHorizontal&&f.support.isRtl(t),s._position=s._isHorizontal?"left":"bottom",s._size=s._isHorizontal?"width":"height",s._outerSize=s._isHorizontal?"outerWidth":"outerHeight",e.tooltip.format=e.tooltip.enabled?e.tooltip.format||"{0}":"{0}",s._createHtml(),s.wrapper=s.element.closest(".k-slider"),s._trackDiv=s.wrapper.find(W),s._setTrackDivWidth(),s._maxSelection=s._trackDiv[s._size](),a=s._maxSelection/((e.max-e.min)/e.smallStep),n=s._calculateItemsWidth(w.floor(s._distance/e.smallStep)),"none"!=e.tickPlacement&&a>=2&&(s._trackDiv.before(i(e,s._distance)),s._setItemsWidth(n),s._setItemsTitle(),s._setItemsLargeTick()),s._calculateSteps(n),s._tabindex(s.wrapper.find(M)),s[e.enabled?"enable":"disable"](),o=f.support.isRtl(s.wrapper)?-1:1,s._keyMap={37:l(-1*o*e.smallStep),40:l(-e.smallStep),39:l(1*o*e.smallStep),38:l(+e.smallStep),35:r(e.max),36:r(e.min),33:l(+e.largeStep),34:l(-e.largeStep)},f.notify(s)},events:[H,b],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_setTrackDivWidth:function(){var t=this,e=2*parseFloat(t._trackDiv.css(t._isRtl?"right":t._position),10);t._trackDiv[t._size](t.wrapper[t._size]()-2-e)},_setItemsWidth:function(e){var a,n=this,i=n.options,o=0,l=e.length-1,r=n.wrapper.find(F),s=0,d=2,u=r.length,c=0;for(a=0;u-2>a;a++)t(r[a+1])[n._size](e[a]);if(n._isHorizontal?(t(r[o]).addClass("k-first")[n._size](e[l-1]),t(r[l]).addClass("k-last")[n._size](e[l])):(t(r[l]).addClass("k-first")[n._size](e[l]),t(r[o]).addClass("k-last")[n._size](e[l-1])),0!==n._distance%i.smallStep&&!n._isHorizontal){for(a=0;e.length>a;a++)c+=e[a];s=n._maxSelection-c,s+=parseFloat(n._trackDiv.css(n._position),10)+d,n.wrapper.find(".k-slider-items").css("padding-top",s)}},_setItemsTitle:function(){for(var e=this,a=e.options,n=e.wrapper.find(F),i=a.min,o=n.length,l=e._isHorizontal&&!e._isRtl?0:o-1,r=e._isHorizontal&&!e._isRtl?o:-1,s=e._isHorizontal&&!e._isRtl?1:-1;0!==l-r;l+=s)t(n[l]).attr("title",g(a.tooltip.format,d(i))),i+=a.smallStep},_setItemsLargeTick:function(){var e,a=this,n=a.options,i=a.wrapper.find(F),o={},l=d(n.largeStep/n.smallStep);if(0===1e3*n.largeStep%(1e3*n.smallStep))if(a._isHorizontal&&!a._isRtl)for(e=0;i.length>e;e=d(e+l))o=t(i[e]),o.addClass("k-tick-large").html("<span class='k-label'>"+o.attr("title")+"</span>");else for(e=i.length-1;e>=0;e=d(e-l))o=t(i[e]),o.addClass("k-tick-large").html("<span class='k-label'>"+o.attr("title")+"</span>"),a._isRtl||0!==e&&e!==i.length-1&&o.css("line-height",o[a._size]()+"px")},_calculateItemsWidth:function(t){var e,a,n,i=this,o=i.options,l=parseFloat(i._trackDiv.css(i._size))+1,r=l/i._distance;for(i._distance/o.smallStep-w.floor(i._distance/o.smallStep)>0&&(l-=i._distance%o.smallStep*r),e=l/t,a=[],n=0;t-1>n;n++)a[n]=e;return a[t-1]=a[t]=e/2,i._roundWidths(a)},_roundWidths:function(t){var e,a=0,n=t.length;for(e=0;n>e;e++)a+=t[e]-w.floor(t[e]),t[e]=w.floor(t[e]);return a=w.round(a),this._addAdditionalSize(a,t)},_addAdditionalSize:function(t,e){if(0===t)return e;var a,n=parseFloat(e.length-1)/parseFloat(1==t?t:t-1);for(a=0;t>a;a++)e[parseInt(w.round(n*a),10)]+=1;return e},_calculateSteps:function(t){var e,a=this,n=a.options,i=n.min,o=0,l=w.ceil(a._distance/n.smallStep),r=1;if(l+=0===a._distance/n.smallStep%1?1:0,t.splice(0,0,2*t[l-2]),t.splice(l-1,1,2*t.pop()),a._pixelSteps=[o],a._values=[i],0!==l){for(;l>r;)o+=(t[r-1]+t[r])/2,a._pixelSteps[r]=o,a._values[r]=i+=n.smallStep,r++;e=0===a._distance%n.smallStep?l-1:l,a._pixelSteps[e]=a._maxSelection,a._values[e]=n.max,a._isRtl&&(a._pixelSteps.reverse(),a._values.reverse())}},_getValueFromPosition:function(t,e){var a,n=this,i=n.options,o=w.max(i.smallStep*(n._maxSelection/n._distance),0),l=0,r=o/2;if(n._isHorizontal?(l=t-e.startPoint,n._isRtl&&(l=n._maxSelection-l)):l=e.startPoint-t,l>n._maxSelection-(parseInt(n._maxSelection%o,10)-3)/2)return i.max;for(a=0;n._pixelSteps.length>a;a++)if(r>=w.abs(n._pixelSteps[a]-l)-1)return d(n._values[a])},_getFormattedValue:function(t,e){var a,n,i,o=this,l="",r=o.options.tooltip;return k(t)?(n=t[0],i=t[1]):e&&e.type&&(n=e.selectionStart,i=e.selectionEnd),e&&(a=e.tooltipTemplate),!a&&r.template&&(a=f.template(r.template)),k(t)||e&&e.type?a?l=a({selectionStart:n,selectionEnd:i}):(n=g(r.format,n),i=g(r.format,i),l=n+" - "+i):(e&&(e.val=t),l=a?a({value:t}):g(r.format,t)),l},_getDragableArea:function(){var t=this,e=f.getOffset(t._trackDiv);return{startPoint:t._isHorizontal?e.left:e.top+t._maxSelection,endPoint:t._isHorizontal?e.left+t._maxSelection:e.top}},_createHtml:function(){var t=this,e=t.element,i=t.options,l=e.find("input");2==l.length?(l.eq(0).val(i.selectionStart),l.eq(1).val(i.selectionEnd)):e.val(i.value),e.wrap(a(i,e,t._isHorizontal)).hide(),i.showButtons&&e.before(n(i,"increase",t._isHorizontal)).before(n(i,"decrease",t._isHorizontal)),e.before(o(i,e))},_focus:function(e){var a=this,n=e.target,i=a.value(),o=a._drag;o||(n==a.wrapper.find(M).eq(0)[0]?(o=a._firstHandleDrag,a._activeHandle=0):(o=a._lastHandleDrag,a._activeHandle=1),i=i[a._activeHandle]),t(n).addClass(P),o&&(a._activeHandleDrag=o,o.selectionStart=a.options.selectionStart,o.selectionEnd=a.options.selectionEnd,o._updateTooltip(i))},_focusWithMouse:function(e){var a=this,n=t(e.target),i=n.is(M)?n.index():0;window.setTimeout(function(){a.wrapper.find(M)[2==i?1:0].focus()},1),a._setTooltipTimeout()},_blur:function(e){var a=this,n=a._activeHandleDrag;t(e.target).removeClass(P),n&&(n._removeTooltip(),delete a._activeHandleDrag,delete a._activeHandle)},_setTooltipTimeout:function(){var t=this;t._tooltipTimeout=window.setTimeout(function(){var e=t._drag||t._activeHandleDrag;e&&e._removeTooltip()},300)},_clearTooltipTimeout:function(){var t,e=this;window.clearTimeout(this._tooltipTimeout),t=e._drag||e._activeHandleDrag,t&&t.tooltipDiv&&t.tooltipDiv.stop(!0,!1).css("opacity",1)}}),G=Q.extend({init:function(a,n){var i,o=this;a.type="text",n=m({},{value:u(a,"value"),min:u(a,"min"),max:u(a,"max"),smallStep:u(a,"step")},n),a=t(a),n&&n.enabled===e&&(n.enabled=!a.is("[disabled]")),Q.fn.init.call(o,a,n),n=o.options,c(n.value)&&null!==n.value||(n.value=n.min,a.val(n.min)),n.value=w.max(w.min(n.value,n.max),n.min),i=o.wrapper.find(M),new G.Selection(i,o,n),o._drag=new G.Drag(i,"",o,n)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0}"},value:null},enable:function(a){var n,i,o,l=this,r=l.options;l.disable(),a!==!1&&(l.wrapper.removeClass(N).addClass(B),l.wrapper.find("input").removeAttr(L),n=function(a){var n=j(a),i=l._isHorizontal?n.x:n.y,o=l._getDragableArea(),r=t(a.target);return r.hasClass("k-draghandle")?(r.addClass(P),e):(l._update(l._getValueFromPosition(i,o)),l._focusWithMouse(a),l._drag.dragstart(a),a.preventDefault(),e)},l.wrapper.find(F+", "+W).on(z,n).end().on(z,function(){t(document.documentElement).one("selectstart",f.preventDefault)}),l.wrapper.find(M).on(E,function(){l._setTooltipTimeout()}).on(R,function(t){l._focusWithMouse(t),t.preventDefault()}).on(q,S(l._focus,l)).on(A,S(l._blur,l)),i=S(function(t){var e=l._nextValueByIndex(l._valueIndex+1*t);l._setValueInRange(e),l._drag._updateTooltip(e)},l),r.showButtons&&(o=S(function(t,e){this._clearTooltipTimeout(),(1===t.which||x.touch&&0===t.which)&&(i(e),this.timeout=setTimeout(S(function(){this.timer=setInterval(function(){i(e)},60)},this),200))},l),l.wrapper.find(".k-button").on(E,S(function(t){this._clearTimer(),l._focusWithMouse(t)},l)).on(V,function(e){t(e.currentTarget).addClass("k-state-hover")}).on("mouseout"+T,S(function(e){t(e.currentTarget).removeClass("k-state-hover"),this._clearTimer()},l)).eq(0).on(y,S(function(t){o(t,1)},l)).click(!1).end().eq(1).on(y,S(function(t){o(t,-1)},l)).click(f.preventDefault)),l.wrapper.find(M).off(C,!1).on(C,S(this._keydown,l)),r.enabled=!0)},disable:function(){var e=this;e.wrapper.removeClass(B).addClass(N),t(e.element).attr(L,L),e.wrapper.find(".k-button").off(y).on(y,f.preventDefault).off(E).on(E,f.preventDefault).off("mouseleave"+T).on("mouseleave"+T,f.preventDefault).off(V).on(V,f.preventDefault),e.wrapper.find(F+", "+W).off(z),e.wrapper.find(M).off(E).off(C).off(R).off(q).off(A),e.options.enabled=!1},_update:function(t){var e=this,a=e.value()!=t;e.value(t),a&&e.trigger(H,{value:e.options.value})},value:function(t){var a=this,n=a.options;return t=d(t),isNaN(t)?n.value:(t>=n.min&&n.max>=t&&n.value!=t&&(a.element.attr("value",s(t)),n.value=t,a._refreshAriaAttr(t),a._refresh()),e)},_refresh:function(){this.trigger(I,{value:this.options.value})},_refreshAriaAttr:function(t){var e,a=this,n=a._drag;e=n&&n._tooltipDiv?n._tooltipDiv.text():a._getFormattedValue(t,null),this.wrapper.find(M).attr("aria-valuenow",t).attr("aria-valuetext",e)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(t){var e=this;t.keyCode in e._keyMap&&(e._clearTooltipTimeout(),e._setValueInRange(e._keyMap[t.keyCode](e.options.value)),e._drag._updateTooltip(e.value()),t.preventDefault())},_setValueInRange:function(t){var a=this,n=a.options;return t=d(t),isNaN(t)?(a._update(n.min),e):(t=w.max(w.min(t,n.max),n.min),a._update(t),e)},_nextValueByIndex:function(t){var e=this._values.length;return this._isRtl&&(t=e-1-t),this._values[w.max(0,w.min(t,e-1))]},destroy:function(){var t=this;_.fn.destroy.call(t),t.wrapper.off(T).find(".k-button").off(T).end().find(M).off(T).end().find(F+", "+W).off(T).end(),t._drag.draggable.destroy()}});G.Selection=function(t,e,a){function n(n){var i=n-a.min,o=e._valueIndex=w.ceil(d(i/a.smallStep)),l=parseInt(e._pixelSteps[o],10),r=e._trackDiv.find(".k-slider-selection"),s=parseInt(t[e._outerSize]()/2,10),u=e._isRtl?2:0;r[e._size](e._isRtl?e._maxSelection-l:l),t.css(e._position,l-s-u)}n(a.value),e.bind([H,b,I],function(t){n(parseFloat(t.value,10))})},G.Drag=function(t,e,a,n){var i=this;i.owner=a,i.options=n,i.dragHandle=t,i.dragHandleSize=t[a._outerSize](),i.type=e,i.draggable=new v(t,{distance:0,dragstart:S(i._dragstart,i),drag:S(i.drag,i),dragend:S(i.dragend,i),dragcancel:S(i.dragcancel,i)}),t.click(!1)},G.Drag.prototype={dragstart:function(t){this.draggable.userEvents._start(t)},_dragstart:function(a){var n=this,i=n.owner,o=n.options;return o.enabled?(i.element.off(V),n.dragHandle.addClass(P),t(document.documentElement).css("cursor","pointer"),n.dragableArea=i._getDragableArea(),n.step=w.max(o.smallStep*(i._maxSelection/i._distance),0),n.type?(n.selectionStart=o.selectionStart,n.selectionEnd=o.selectionEnd,i._setZIndex(n.type)):n.oldVal=n.val=o.value,n._removeTooltip(!0),n._createTooltip(),e):(a.preventDefault(),e)},_createTooltip:function(){var e,a=this,n=a.owner,i=a.options.tooltip,o="";i.enabled&&(i.template&&(e=a.tooltipTemplate=f.template(i.template)),t(".k-slider-tooltip").remove(),a.tooltipDiv=t("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),o=n._getFormattedValue(a.val||n.value(),a),a.type||(a.tooltipInnerDiv="<div class='k-callout k-callout-"+(n._isHorizontal?"s":"e")+"'><!-- --></div>",o+=a.tooltipInnerDiv),a.tooltipDiv.html(o),a.moveTooltip())},drag:function(t){var e,a=this,n=a.owner,i=t.x.location,o=t.y.location,l=a.dragableArea.startPoint,r=a.dragableArea.endPoint;t.preventDefault(),a.val=n._isHorizontal?n._isRtl?a.constrainValue(i,l,r,r>i):a.constrainValue(i,l,r,i>=r):a.constrainValue(o,r,l,r>=o),a.oldVal!=a.val&&(a.oldVal=a.val,a.type?("firstHandle"==a.type?a.selectionStart=a.val<a.selectionEnd?a.val:a.selectionEnd=a.val:a.val>a.selectionStart?a.selectionEnd=a.val:a.selectionStart=a.selectionEnd=a.val,e={values:[a.selectionStart,a.selectionEnd],value:[a.selectionStart,a.selectionEnd]}):e={value:a.val},n.trigger(b,e)),a._updateTooltip(a.val)},_updateTooltip:function(t){var e=this,a=e.options,n=a.tooltip,i="";n.enabled&&(e.tooltipDiv||e._createTooltip(),i=e.owner._getFormattedValue(d(t),e),e.type||(i+=e.tooltipInnerDiv),e.tooltipDiv.html(i),e.moveTooltip())},dragcancel:function(){return this.owner._refresh(),t(document.documentElement).css("cursor",""),this._end()},dragend:function(){var e=this,a=e.owner;return t(document.documentElement).css("cursor",""),e.type?a._update(e.selectionStart,e.selectionEnd):a._update(e.val),e._end()},_end:function(){var t=this,e=t.owner;return e._focusWithMouse({target:t.dragHandle[0]}),e.element.on(V),!1},_removeTooltip:function(e){var a=this,n=a.owner;a.tooltipDiv&&n.options.tooltip.enabled&&n.options.enabled&&(e?(a.tooltipDiv.remove(),a.tooltipDiv=null):a.tooltipDiv.fadeOut("slow",function(){t(this).remove(),a.tooltipDiv=null}))},moveTooltip:function(){var t,e,a,n=this,i=n.owner,o=0,l=0,r=f.getOffset(n.dragHandle),s=4,d=n.tooltipDiv.find(".k-callout");n.type?(t=i.wrapper.find(M),e=f.getOffset(t.eq(0)),a=f.getOffset(t.eq(1)),i._isHorizontal?(o=a.top,l=e.left+(a.left-e.left)/2):(o=e.top+(a.top-e.top)/2,l=a.left)):(o=r.top,l=r.left),i._isHorizontal?(l-=parseInt((n.tooltipDiv.outerWidth()-n.dragHandle[i._outerSize]())/2,10),o-=n.tooltipDiv.outerHeight()+(d.height()||0)+s):(o-=parseInt((n.tooltipDiv.outerHeight()-n.dragHandle[i._outerSize]())/2,10),l-=n.tooltipDiv.outerWidth()+(d.width()||0)+s),n.tooltipDiv.css({top:o,left:l})},constrainValue:function(t,e,a,n){var i=this,o=0;return o=t>e&&a>t?i.owner._getValueFromPosition(t,i.dragableArea):n?i.options.max:i.options.min}},f.ui.plugin(G),p=Q.extend({init:function(a,n){var i,o=this,l=t(a).find("input"),r=l.eq(0)[0],s=l.eq(1)[0];r.type="text",s.type="text",n=m({},{selectionStart:u(r,"value"),min:u(r,"min"),max:u(r,"max"),smallStep:u(r,"step")},{selectionEnd:u(s,"value"),min:u(s,"min"),max:u(s,"max"),smallStep:u(s,"step")},n),n&&n.enabled===e&&(n.enabled=!l.is("[disabled]")),Q.fn.init.call(o,a,n),n=o.options,c(n.selectionStart)&&null!==n.selectionStart||(n.selectionStart=n.min,l.eq(0).val(n.min)),c(n.selectionEnd)&&null!==n.selectionEnd||(n.selectionEnd=n.max,l.eq(1).val(n.max)),i=o.wrapper.find(M),new p.Selection(i,o,n),o._firstHandleDrag=new G.Drag(i.eq(0),"firstHandle",o,n),o._lastHandleDrag=new G.Drag(i.eq(1),"lastHandle",o,n)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0}"},selectionStart:null,selectionEnd:null},enable:function(a){var n,i=this,o=i.options;i.disable(),a!==!1&&(i.wrapper.removeClass(N).addClass(B),i.wrapper.find("input").removeAttr(L),n=function(a){var n,l=j(a),r=i._isHorizontal?l.x:l.y,s=i._getDragableArea(),d=i._getValueFromPosition(r,s),u=t(a.target);return u.hasClass("k-draghandle")?(u.addClass(P),e):(o.selectionStart>d?(i._setValueInRange(d,o.selectionEnd),i._firstHandleDrag.dragstart(a),n=0):d>i.selectionEnd?(i._setValueInRange(o.selectionStart,d),i._lastHandleDrag.dragstart(a),n=1):d-o.selectionStart<=o.selectionEnd-d?(i._setValueInRange(d,o.selectionEnd),i._firstHandleDrag.dragstart(a),n=0):(i._setValueInRange(o.selectionStart,d),i._lastHandleDrag.dragstart(a),n=1),i._focusWithMouse({target:i.wrapper.find(M)[n]}),e)},i.wrapper.find(F+", "+W).on(z,n).end().on(z,function(){t(document.documentElement).one("selectstart",f.preventDefault)}),i.wrapper.find(M).on(E,function(){i._setTooltipTimeout()}).on(R,function(t){i._focusWithMouse(t),t.preventDefault()}).on(q,S(i._focus,i)).on(A,S(i._blur,i)),i.wrapper.find(M).off(C,f.preventDefault).eq(0).on(C,S(function(t){this._keydown(t,"firstHandle")},i)).end().eq(1).on(C,S(function(t){this._keydown(t,"lastHandle")},i)),i.options.enabled=!0)},disable:function(){var t=this;t.wrapper.removeClass(B).addClass(N),t.wrapper.find("input").attr(L,L),t.wrapper.find(F+", "+W).off(z),t.wrapper.find(M).off(E).off(C).off(R).off(q).off(A),t.options.enabled=!1},_keydown:function(t,e){var a,n,i,o=this,l=o.options.selectionStart,r=o.options.selectionEnd;t.keyCode in o._keyMap&&(o._clearTooltipTimeout(),"firstHandle"==e?(i=o._activeHandleDrag=o._firstHandleDrag,l=o._keyMap[t.keyCode](l),l>r&&(r=l)):(i=o._activeHandleDrag=o._lastHandleDrag,r=o._keyMap[t.keyCode](r),l>r&&(l=r)),o._setValueInRange(l,r),a=Math.max(l,o.options.selectionStart),n=Math.min(r,o.options.selectionEnd),i.selectionEnd=Math.max(n,o.options.selectionStart),i.selectionStart=Math.min(a,o.options.selectionEnd),i._updateTooltip(o.value()[o._activeHandle]),t.preventDefault())},_update:function(t,e){var a=this,n=a.value(),i=n[0]!=t||n[1]!=e;a.value([t,e]),i&&a.trigger(H,{values:[t,e],value:[t,e]})},value:function(t){return t&&t.length?this._value(t[0],t[1]):this._value()},_value:function(t,a){var n=this,i=n.options,o=i.selectionStart,l=i.selectionEnd;return isNaN(t)&&isNaN(a)?[o,l]:(t=d(t),a=d(a),t>=i.min&&i.max>=t&&a>=i.min&&i.max>=a&&a>=t&&(o!=t||l!=a)&&(n.element.find("input").eq(0).attr("value",s(t)).end().eq(1).attr("value",s(a)),i.selectionStart=t,i.selectionEnd=a,n._refresh(),n._refreshAriaAttr(t,a)),e)},values:function(t,e){return k(t)?this._value(t[0],t[1]):this._value(t,e)},_refresh:function(){var t=this,e=t.options;t.trigger(I,{values:[e.selectionStart,e.selectionEnd],value:[e.selectionStart,e.selectionEnd]}),e.selectionStart==e.max&&e.selectionEnd==e.max&&t._setZIndex("firstHandle")},_refreshAriaAttr:function(t,e){var a,n=this,i=n.wrapper.find(M),o=n._activeHandleDrag;a=n._getFormattedValue([t,e],o),i.eq(0).attr("aria-valuenow",t),i.eq(1).attr("aria-valuenow",e),i.attr("aria-valuetext",a)},_setValueInRange:function(t,e){var a=this.options;t=w.max(w.min(t,a.max),a.min),e=w.max(w.min(e,a.max),a.min),t==a.max&&e==a.max&&this._setZIndex("firstHandle"),this._update(w.min(t,e),w.max(t,e))},_setZIndex:function(e){this.wrapper.find(M).each(function(a){t(this).css("z-index","firstHandle"==e?1-a:a)})},destroy:function(){var t=this;_.fn.destroy.call(t),t.wrapper.off(T).find(F+", "+W).off(T).end().find(M).off(T),t._firstHandleDrag.draggable.destroy(),t._lastHandleDrag.draggable.destroy()}}),p.Selection=function(t,e,a){function n(n){n=n||[];var o=n[0]-a.min,l=n[1]-a.min,r=w.ceil(d(o/a.smallStep)),s=w.ceil(d(l/a.smallStep)),u=e._pixelSteps[r],c=e._pixelSteps[s],p=parseInt(t.eq(0)[e._outerSize]()/2,10),f=e._isRtl?2:0;t.eq(0).css(e._position,u-p-f).end().eq(1).css(e._position,c-p-f),i(u,c)}function i(t,a){var n,i,o=e._trackDiv.find(".k-slider-selection");n=w.abs(t-a),o[e._size](n),e._isRtl?(i=w.max(t,a),o.css("right",e._maxSelection-i-1)):(i=w.min(t,a),o.css(e._position,i-1))}n(e.value()),e.bind([H,b,I],function(t){n(t.values)})},f.ui.plugin(p)})(window.kendo.jQuery)});