("function"==typeof define&&define.amd?define:function(e,t){return t()})(["./kendo.list.min"],function(){(function(e,t){function n(e,t,n){for(var o,a=0,s=t.length-1;s>a;++a)o=t[a],o in e||(e[o]={}),e=e[o];e[t[s]]=n}var o=window.kendo,a=o.ui,s=a.Select,i=o.support.mobileOS,r=".kendoDropDownList",l="disabled",p="change",c="select",d="k-state-focused",u="k-state-default",_="k-state-disabled",f="k-state-selected",h="mouseenter"+r+" mouseleave"+r,v=e.proxy,g=s.extend({init:function(n,a){var i,l,p,d=this,u=a&&a.index;d.ns=r,a=e.isArray(a)?{dataSource:a}:a,s.fn.init.call(d,n,a),d._focusHandler=function(){d.wrapper.focus()},a=d.options,n=d.element.on("focus"+r,d._focusHandler),d._reset(),d._word="",d._wrapper(),d._tabindex(),d._aria(),d._span(),d._popup(),d._mobile(),d._accessors(),d._dataSource(),d._ignoreCase(),d._enable(),d._cascade(),d.selectedIndex=-1,u!==t&&(a.index=u),a.autoBind?d.dataSource.fetch():(p=a.text,p||(i=d._optionLabelText(a.optionLabel),l=i&&0===a.index,n.is(c)?p=l?i:n.children(":selected").text():!n[0].value&&l&&(p=i)),d.text(p)),o.notify(d)},options:{name:"DropDownList",enable:!0,index:0,autoBind:!0,text:"",template:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",ignoreCase:!0,animation:{}},events:["open","close",p,"select","dataBinding","dataBound","cascade"],setOptions:function(e){s.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria()},destroy:function(){var e=this;e.wrapper.off(r),e.element.off(r),e._inputWrapper.off(r),s.fn.destroy.call(e)},enable:function(e){var t=this,n=t.element,o=t.wrapper.off(r),a=t._inputWrapper.off(h);e===!1?(n.attr(l,l),a.removeClass(u).addClass(_)):(n.removeAttr(l,l),a.addClass(u).removeClass(_).on(h,t._toggleHover),o.on("click"+r,function(e){t._blured=!1,e.preventDefault(),t.toggle()}).on("keydown"+r,v(t._keydown,t)).on("keypress"+r,v(t._keypress,t)).on("focusin"+r,function(){a.addClass(d),t._blured=!1}).on("focusout"+r,function(){t._blured||(t._triggerCascade(),t._blur(),a.removeClass(d),t._blured=!0,n.blur())}))},open:function(){var e=this;e.ul[0].firstChild?(e.popup.open(),e._scroll(e._current)):(e._open=!0,e._request||e.dataSource.fetch())},toggle:function(e){this._toggle(e)},refresh:function(){var e=this,t=e._data(),n=t.length,a=e.options.optionLabel;e.trigger("dataBinding"),e._current&&e.current(null),e.ul[0].innerHTML=o.render(e.template,t),e._height(n),e.popup.visible()&&e.popup._position(),e.element.is(c)&&(a&&n&&(a=e._optionLabelText(a),a='<option value="">'+a+"</option>"),e._options(t,a)),e._open&&(e._open=!1,e.toggle(!!n)),e._hideBusy(),e._makeUnselectable(),!e._fetch&&n&&e._selectItem(),e._bound=!0,e.trigger("dataBound")},search:function(e){if(e){var n=this,o=n.options.ignoreCase;o&&(e=e.toLowerCase()),n._select(function(a){var s=n._text(a);return s!==t?(s+="",o&&(s=s.toLowerCase()),0===s.indexOf(e)):t})}},text:function(e){var n=this.span;return e===t?n.text():(n.text(e),t)},value:function(e){var n,o,a=this;return e===t?a._accessor():(null!==e&&(e=""+e),a._selectedValue=e,o=e||a.options.optionLabel&&!a.element[0].disabled&&""===e,o&&a._fetchItems(e)||(n=a._index(e),a.select(n>-1?n:0)),t)},_accept:function(e){this._focus(e)},_optionLabelText:function(){var e=this.options,t=e.dataTextField,n=e.optionLabel;return n&&t&&"object"==typeof n?this._text(n):n},_data:function(){var e=this,t=e.options,a=t.optionLabel,s=t.dataTextField,i=t.dataValueField,r=e.dataSource.view(),l=r.length,p=a,c=0;if(a&&l){for("object"==typeof a?p=a:s&&(p={},s=s.split("."),i=i.split("."),n(p,i,""),n(p,s,a)),p=new o.data.ObservableArray([p]);l>c;c++)p.push(r[c]);r=p}return r},_keydown:function(e){var t=this,n=e.keyCode,a=o.keys,s=t.ul[0];n===a.LEFT?n=a.UP:n===a.RIGHT&&(n=a.DOWN),e.keyCode=n,t._move(e),n===a.HOME?(e.preventDefault(),t._select(s.firstChild)):n===a.END&&(e.preventDefault(),t._select(s.lastChild))},_selectNext:function(e,t){for(var n,o=this,a=o.options.ignoreCase,s=o._data(),i=s.length;i>t;t++)if(n=o._text(s[t]),n&&(n+="",a&&(n=n.toLowerCase()),0===n.indexOf(e)))return o._select(t),o._triggerEvents(),!0;return!1},_keypress:function(e){var t=this;setTimeout(function(){var n=String.fromCharCode(e.keyCode||e.charCode),o=t.selectedIndex;if(t.options.ignoreCase&&(n=n.toLowerCase()),n===t._last&&o>-1){if(t._word=n,t._selectNext(n,o+1))return}else t._word+=n;t._last=n,t._search()})},_popup:function(){s.fn._popup.call(this),this.popup.one("open",function(){this.wrapper=o.wrap(this.element).addClass("km-popup")})},_search:function(){var e=this;clearTimeout(e._typing),e._typing=setTimeout(function(){e._word=""},e.options.delay),e.search(e._word),e._triggerEvents()},_select:function(e){var n,o,s,i=this,r=i._current,l=i._data();e=i._get(e),e&&e[0]&&!e.hasClass(f)&&(r&&r.removeClass(f),s=a.List.inArray(e[0],i.ul[0]),s>-1&&(l=l[s],o=i._text(l),n=i._value(l),i.selectedIndex=s,i.text(o),i._accessor(n!==t?n:o,s),i._selectedValue=i._accessor(),i.current(e.addClass(f)),i._optionID&&i._current.attr("aria-selected",!0)))},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var e=this,t=e.popup,n=t.element.parents(".km-root").eq(0);n.length&&i&&(t.options.animation.open.effects=i.android||i.meego?"fadeIn":i.ios?"slideIn:up":t.options.animation.open.effects)},_span:function(){var t,n=this,o=n.wrapper,a="span.k-input";t=o.find(a),t[0]||(o.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),t=o.find(a)),n.span=t,n._inputWrapper=e(o[0].firstChild),n._arrow=o.find(".k-icon").mousedown(function(e){e.preventDefault()})},_wrapper:function(){var e,t=this,n=t.element,o=n[0];e=n.parent(),e.is("span.k-widget")||(e=n.wrap("<span />").parent(),e[0].style.cssText=o.style.cssText),n.hide(),t._focused=t.wrapper=e.addClass("k-widget k-dropdown k-header").addClass(o.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var e=this,n=e.options.optionLabel;return e.dataSource.view()[0]&&n?(e.select(0),t):(e.text(n),e.element.val(""),e.selectedIndex=-1,t)}});a.plugin(g)})(window.kendo.jQuery)});