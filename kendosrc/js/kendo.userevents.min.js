("function"==typeof define&&define.amd?define:function(t,e){return e()})(["./kendo.core.min"],function(){!function(t){function e(t,e){var n=t.x.location,i=t.y.location,o=e.x.location,r=e.y.location,a=n-o,s=i-r;return{center:{x:(n+o)/2,y:(i+r)/2},distance:Math.sqrt(a*a+s*s)}}function n(t){var e,n,i,o=[],r=t.originalEvent,s=t.currentTarget,c=0;if(t.api)o.push({id:2,event:t,target:t.target,currentTarget:t.target,location:t});else if(t.type.match(/touch/))for(n=r?r.changedTouches:[],e=n.length;e>c;c++)i=n[c],o.push({location:i,event:t,target:i.target,currentTarget:s,id:i.identifier});else a.pointers?o.push({location:r,event:t,target:t.target,currentTarget:s,id:r.pointerId}):o.push({id:1,event:t,target:t.target,currentTarget:s,location:t});return o}function i(e){e.preventDefault();var n=t(e.data.root),i=n.closest(".k-widget").parent();i[0]||(i=n.parent()),i.trigger(t.Event(e.type,{target:n[0]}))}function o(t){for(var e=r.eventMap.up.split(" "),n=0,i=e.length;i>n;n++)t(e[n])}var r=window.kendo,a=r.support,s=window.document,c=t(s.documentElement),u=r.Class,h=r.Observable,l=t.now,d=t.extend,p=a.mobileOS,f=p&&p.android,v=a.browser.ie?5:0,g="press",_="select",m="start",T="move",y="end",w="cancel",x="tap",M="release",D="gesturestart",E="gesturechange",b="gestureend",S="gesturetap",k=u.extend({init:function(t,e){var n=this;n.axis=t,n._updateLocationData(e),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=l()},move:function(t){var e=this,n=t["page"+e.axis],i=l(),o=i-e.timeStamp||1;(n||!f)&&(e.delta=n-e.location,e._updateLocationData(t),e.initialDelta=n-e.startLocation,e.velocity=e.delta/o,e.timeStamp=i)},_updateLocationData:function(t){var e=this,n=e.axis;e.location=t["page"+n],e.client=t["client"+n],e.screen=t["screen"+n]}}),I=u.extend({init:function(t,e,n){var i=this;d(i,{x:new k("X",n.location),y:new k("Y",n.location),userEvents:t,target:e,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,_moved:!1,_finished:!1}),i.notifyInit=function(){i._trigger(g,n)}},move:function(t){var e=this;if(!e._finished){if(e.x.move(t.location),e.y.move(t.location),!e._moved){if(e._withinIgnoreThreshold())return;if(C.current&&C.current!==e.userEvents)return e.dispose();e._start(t)}e._finished||e._trigger(T,t)}},end:function(t){var e=this;e.endTime=l(),e._finished||(e._moved?e._trigger(y,t):e._trigger(x,t),e._trigger(M,t),e.dispose())},dispose:function(){var e=this,n=e.userEvents,i=n.touches;e._finished=!0,i.splice(t.inArray(e,i),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(t){this.startTime=l(),this._moved=!0,this._trigger(m,t)},_trigger:function(t,e){var n=this,i=e.event,o={touch:n,x:n.x,y:n.y,target:n.target,event:i};n.userEvents.notify(t,o)&&i.preventDefault()},_withinIgnoreThreshold:function(){var t=this.x.initialDelta,e=this.y.initialDelta;return Math.sqrt(t*t+e*e)<=this.userEvents.threshold}}),C=h.extend({init:function(e,n){var i,s,u=this,l=r.guid();n=n||{},i=u.filter=n.filter,u.threshold=n.threshold||v,u.touches=[],u._maxTouches=n.multiTouch?2:1,u.allowSelection=n.allowSelection,u.eventNS=l,e=t(e).handler(u),h.fn.init.call(u),d(u,{element:e,surface:n.global?c:t(n.surface||e),stopPropagation:n.stopPropagation,pressed:!1}),u.surface.handler(u).on(r.applyEventMap("move",l),"_move").on(r.applyEventMap("up cancel",l),"_end"),e.on(r.applyEventMap("down",l),i,"_start"),a.pointers&&e.css("-ms-touch-action","pinch-zoom double-tap-zoom"),n.preventDragEvent&&e.on(r.applyEventMap("dragstart",l),r.preventDefault),e.on(r.applyEventMap("mousedown selectstart",l),i,{root:e},"_select"),a.eventCapture&&(s=u.surface[0],u.preventIfMoving=function(t){u._isMoved()&&t.preventDefault()},o(function(t){s.addEventListener(t,u.preventIfMoving,!0)})),u.bind([g,x,m,T,y,M,w,D,E,b,S,_],n)},destroy:function(){var t,e=this;a.eventCapture&&(t=e.surface[0],o(function(n){t.removeEventListener(n,e.preventIfMoving)})),e.element.kendoDestroy(e.eventNS),e.surface.kendoDestroy(e.eventNS),e.element.removeData("handler"),e.surface.removeData("handler"),e._disposeAll(),e.unbind()},capture:function(){C.current=this},cancel:function(){this._disposeAll(),this.trigger(w)},notify:function(t,n){var i=this,o=i.touches;if(this._isMultiTouch()){switch(t){case T:t=E;break;case y:t=b;break;case x:t=S}d(n,{touches:o},e(o[0],o[1]))}return this.trigger(t,n)},press:function(t,e,n){this._apiCall("_start",t,e,n)},move:function(t,e){this._apiCall("_move",t,e)},end:function(t,e){this._apiCall("_end",t,e)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){t.each(this.touches,function(){this.dispose()})},_isMoved:function(){return t.grep(this.touches,function(t){return t.isMoved()}).length},_select:function(t){(!this.allowSelection||this.trigger(_,{event:t}))&&i(t)},_start:function(e){var i,o,r=this,a=0,s=r.filter,c=n(e),u=c.length;if(!r._maxTouchesReached())for(C.current=null,r.currentTarget=e.currentTarget,r.stopPropagation&&e.stopPropagation();u>a&&!r._maxTouchesReached();a++)o=c[a],i=s?t(o.currentTarget):r.element,i.length&&(o=new I(r,i,o),r.touches.push(o),o.notifyInit(),r._isMultiTouch()&&r.notify("gesturestart",{}))},_move:function(t){this._eachTouch("move",t)},_end:function(t){this._eachTouch("end",t)},_eachTouch:function(t,e){var i,o,r,a,s=this,c={},u=n(e),h=s.touches;for(i=0;i<h.length;i++)o=h[i],c[o.id]=o;for(i=0;i<u.length;i++)r=u[i],a=c[r.id],a&&a[t](r)},_apiCall:function(e,n,i,o){this[e]({api:!0,pageX:n,pageY:i,target:o||this.element,stopPropagation:t.noop,preventDefault:t.noop})}});r.getTouches=n,r.touchDelta=e,r.UserEvents=C}(window.kendo.jQuery)});