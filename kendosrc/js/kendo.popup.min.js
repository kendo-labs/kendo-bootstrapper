("function"==typeof define&&define.amd?define:function(e,o){return o()})(["./kendo.core.min"],function(){(function(e){function o(o,t){return o===t||e.contains(o,t)}var t=window.kendo,n=t.ui,i=n.Widget,s=t.support,r=t.getOffset,a=s.browser,l=a.msie&&9>a.version,p="open",d="close",c="deactivate",f="activate",u="center",m="left",h="right",g="top",w="bottom",v="absolute",_="hidden",y="body",k="location",b="position",x="visible",z="effects",P="k-state-active",C="k-state-border",T=".k-picker-wrap, .k-dropdown-wrap, .k-link",W="down",S=e(document),E=e(window),I=e(document.documentElement),H="resize scroll",O=s.transitions.css,A=O+"transform",L=e.extend,N=".kendoPopup",F=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],R=i.extend({init:function(o,n){var s,r=this;n=n||{},n.isRtl&&(n.origin=n.origin||w+" "+h,n.position=n.position||g+" "+h),i.fn.init.call(r,o,n),o=r.element,n=r.options,r.collisions=n.collision?n.collision.split(" "):[],1===r.collisions.length&&r.collisions.push(r.collisions[0]),s=e(r.options.anchor).closest(".k-popup,.k-group"),n.appendTo=e(e(n.appendTo)[0]||s[0]||y),r.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!n.isRtl).css({position:v}).appendTo(n.appendTo).on("mouseenter"+N,function(){r._hovered=!0}).on("mouseleave"+N,function(){r._hovered=!1}),r.wrapper=e(),n.animation===!1&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),L(n.animation.open,{complete:function(){r.wrapper.css({overflow:x}),r.trigger(f)}}),L(n.animation.close,{complete:function(){r.wrapper.hide();var i,s,a=r.wrapper.data(k),l=e(n.anchor);a&&r.wrapper.css(a),n.anchor!=y&&(i=l.hasClass(C+"-down")?"down":"up",s=C+"-"+i,l.removeClass(s).children(T).removeClass(P).removeClass(s),o.removeClass(C+"-"+t.directions[i].reverse)),r._closing=!1,r.trigger(c)}}),r._mousedownProxy=function(e){r._mousedown(e)},r._currentWidth=S.width(),r._resizeProxy=function(e){r._resize(e)},n.toggleTarget&&e(n.toggleTarget).on(n.toggleEvent+N,e.proxy(r.toggle,r))},events:[p,f,d,c],options:{name:"Popup",toggleEvent:"click",origin:w+" "+m,position:g+" "+m,anchor:y,collision:"flip fit",viewport:window,copyAnchorStyles:!0,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var o,n=this,s=n.options,r=n.element.off(N);i.fn.destroy.call(n),s.toggleTarget&&e(s.toggleTarget).off(N),I.unbind(W,n._mousedownProxy),E.unbind(H,n._resizeProxy),s.appendTo[0]===document.body&&(o=r.parent(".k-animation-container"),o[0]?o.remove():r.remove()),t.destroy(n.element.children())},open:function(o,n){var i,r,a,l=this,d={isFixed:!isNaN(parseInt(n,10)),x:o,y:n},c=l.element,f=l.options,u="down",m=e(f.anchor);if(!l.visible()){if(f.copyAnchorStyles&&c.css(t.getComputedStyles(m[0],F)),c.data("animating")||l.trigger(p))return;I.unbind(W,l._mousedownProxy).bind(W,l._mousedownProxy),s.mobileOS.ios||s.mobileOS.android||E.unbind(H,l._resizeProxy).bind(H,l._resizeProxy),l.wrapper=r=t.wrap(c).css({overflow:_,display:"block",position:v}),s.mobileOS.android&&r.add(m).css(A,"translatez(0)"),r.css(b),e(f.appendTo)[0]==document.body&&r.css(g,"-10000px"),i=L(!0,{},f.animation.open),l.flipped=l._position(d),i.effects=t.parseEffects(i.effects,l.flipped),u=i.effects.slideIn?i.effects.slideIn.direction:u,f.anchor!=y&&(a=C+"-"+u,c.addClass(C+"-"+t.directions[u].reverse),m.addClass(a).children(T).addClass(P).addClass(a)),c.data(z,i.effects).kendoStop(!0).kendoAnimate(i)}},toggle:function(){var e=this;e[e.visible()?d:p]()},visible:function(){return this.element.is(":"+x)},close:function(){var o,n,i,s=this,r=s.options;if(s.visible()){if(s._closing||s.trigger(d))return;s.element.find(".k-popup").each(function(){var o=e(this),t=o.data("kendoPopup");t&&t.close()}),I.unbind(W,s._mousedownProxy),E.unbind(H,s._resizeProxy),o=L(!0,{},r.animation.close),n=s.element.data(z),i=o.effects,s.wrapper=t.wrap(s.element).css({overflow:_}),!i&&!t.size(i)&&n&&t.size(n)&&(o.effects=n,o.reverse=!0),s._closing=!0,s.element.kendoStop(!0).kendoAnimate(o)}},_resize:function(){var e,t,n=this;if(l){if(t=S.width(),t==n._currentWidth)return;n._currentWidth=t}try{e=document.activeElement}catch(i){}n._hovered||o(n.element[0],e)||n.close()},_mousedown:function(n){var i=this,s=i.element[0],r=i.options,a=e(r.anchor)[0],l=r.toggleTarget,p=t.eventTarget(n),d=e(p).closest(".k-popup")[0];d&&d!==i.element[0]||o(s,p)||o(a,p)||l&&o(e(l)[0],p)||i.close()},_fit:function(e,o,t){var n=0;return e+o>t&&(n=t-(e+o)),0>e&&(n=-e),n},_flip:function(e,o,t,n,i,s,r){var a=0;return r=r||o,s!==i&&s!==u&&i!==u&&(e+r>n&&(a+=-(t+o)),0>e+a&&(a+=t+o)),a},_position:function(o){var t,n,i,a,l,p,d,c,f,u=this,m=u.element.css(b,""),h=u.wrapper,g=u.options,w=e(g.viewport),_=e(w).offset(),y=e(g.anchor),x=g.origin.toLowerCase().split(" "),z=g.position.toLowerCase().split(" "),P=u.collisions,C=s.zoomLevel(),T=10002,W=0,S=y.parents().filter(h.siblings());if(S[0])if(n=Number(e(S).css("zIndex")))T=n+1;else for(t=y.parentsUntil(S),i=t.length;i>W;W++)n=Number(e(t[W]).css("zIndex")),n&&n>T&&(T=n+1);return h.css("zIndex",T),o&&o.isFixed?h.css({left:o.x,top:o.y}):h.css(u._align(x,z)),a=r(h,b,y[0]===h.offsetParent()[0]),l=r(h),p=y.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),p.length&&(a=r(h,b,!0),l=r(h)),w[0]===window?(l.top-=window.pageYOffset||document.documentElement.scrollTop||0,l.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(l.top-=_.top,l.left-=_.left),u.wrapper.data(k)||h.data(k,L({},a)),d=L({},l),c=L({},a),"fit"===P[0]&&(c.top+=u._fit(d.top,h.outerHeight(),w.height()/C)),"fit"===P[1]&&(c.left+=u._fit(d.left,h.outerWidth(),w.width()/C)),f=L({},c),"flip"===P[0]&&(c.top+=u._flip(d.top,m.outerHeight(),y.outerHeight(),w.height()/C,x[0],z[0],h.outerHeight())),"flip"===P[1]&&(c.left+=u._flip(d.left,m.outerWidth(),y.outerWidth(),w.width()/C,x[1],z[1],h.outerWidth())),m.css(b,v),h.css(c),c.left!=f.left||c.top!=f.top},_align:function(o,t){var n,i=this,s=i.wrapper,a=e(i.options.anchor),l=o[0],p=o[1],d=t[0],c=t[1],f=r(a),m=e(i.options.appendTo),g=s.outerWidth(),v=s.outerHeight(),_=a.outerWidth(),y=a.outerHeight(),k=f.top,b=f.left,x=Math.round;return m[0]!=document.body&&(n=r(m),k-=n.top,b-=n.left),l===w&&(k+=y),l===u&&(k+=x(y/2)),d===w&&(k-=v),d===u&&(k-=x(v/2)),p===h&&(b+=_),p===u&&(b+=x(_/2)),c===h&&(b-=g),c===u&&(b-=x(g/2)),{top:k,left:b}}});n.plugin(R)})(window.kendo.jQuery)});