("function"==typeof define&&define.amd?define:function(e,t){return t()})(["./kendo.core.min"],function(){(function(e){function t(t,o){return t===o||e.contains(t,o)}var o=window.kendo,n=o.ui,i=n.Widget,s=o.support,r=o.getOffset,a=o.support.browser,l=a.msie&&9>a.version,d="open",p="close",c="deactivate",f="activate",u="center",m="left",g="right",h="top",w="bottom",v="absolute",_="hidden",b="body",k="location",y="position",x="visible",z="fitted",C="effects",P="k-state-active",T="k-state-border",W=".k-picker-wrap, .k-dropdown-wrap, .k-link",E="down",I=e(document),H=e(window),O=e(document.documentElement),S="resize scroll",L=s.transitions.css,N=L+"transform",A=e.extend,F=".kendoPopup",R=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],j=i.extend({init:function(t,n){var s,r=this;n=n||{},n.isRtl&&(n.origin=n.origin||w+" "+g,n.position=n.position||h+" "+g),i.fn.init.call(r,t,n),t=r.element,n=r.options,r.collisions=n.collision?n.collision.split(" "):[],1===r.collisions.length&&r.collisions.push(r.collisions[0]),s=e(r.options.anchor).closest(".k-popup,.k-group"),n.appendTo=e(e(n.appendTo)[0]||s[0]||b),r.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!n.isRtl).css({position:v}).appendTo(n.appendTo).on("mouseenter"+F,function(){r._hovered=!0}).on("mouseleave"+F,function(){r._hovered=!1}),r.wrapper=e(),n.animation===!1&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),A(n.animation.open,{complete:function(){r.wrapper.css({overflow:x}),r.trigger(f)}}),A(n.animation.close,{complete:function(){r.wrapper.hide();var i,s,a=r.wrapper.data(k),l=e(n.anchor);a&&r.wrapper.css(a),n.anchor!=b&&(i=l.hasClass(T+"-down")?"down":"up",s=T+"-"+i,l.removeClass(s).children(W).removeClass(P).removeClass(s),t.removeClass(T+"-"+o.directions[i].reverse)),r._closing=!1,r.trigger(c)}}),r._mousedownProxy=function(e){r._mousedown(e)},r._currentWidth=I.width(),r._resizeProxy=function(e){r._resize(e)},n.toggleTarget&&e(n.toggleTarget).on(n.toggleEvent+F,e.proxy(r.toggle,r))},events:[d,f,p,c],options:{name:"Popup",toggleEvent:"click",origin:w+" "+m,position:h+" "+m,anchor:b,collision:"flip fit",viewport:window,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var t,n=this,s=n.options,r=n.element.off(F);i.fn.destroy.call(n),s.toggleTarget&&e(s.toggleTarget).off(F),O.unbind(E,n._mousedownProxy),H.unbind(S,n._resizeProxy),s.appendTo[0]===document.body&&(t=r.parent(".k-animation-container"),t[0]?t.remove():r.remove()),o.destroy(n.element.children())},open:function(t,n){var i,r,a,l=this,p={isFixed:!isNaN(parseInt(n,10)),x:t,y:n},c=l.element,f=l.options,u="down",m=e(f.anchor);if(!l.visible()){if(c.css(o.getComputedStyles(m[0],R)),c.data("animating")||l.trigger(d))return;O.unbind(E,l._mousedownProxy).bind(E,l._mousedownProxy),s.mobileOS.ios||s.mobileOS.android||H.unbind(S,l._resizeProxy).bind(S,l._resizeProxy),l.wrapper=r=o.wrap(c).css({overflow:_,display:"block",position:v}),s.mobileOS.android&&r.add(m).css(N,"translatez(0)"),r.css(y),e(f.appendTo)[0]==document.body&&r.css(h,"-10000px"),i=A(!0,{},f.animation.open),l.flipped=l._position(p),i.effects=o.parseEffects(i.effects,l.flipped),u=i.effects.slideIn?i.effects.slideIn.direction:u,f.anchor!=b&&(a=T+"-"+u,c.addClass(T+"-"+o.directions[u].reverse),m.addClass(a).children(W).addClass(P).addClass(a)),c.data(C,i.effects).kendoStop(!0).kendoAnimate(i)}},toggle:function(){var e=this;e[e.visible()?p:d]()},visible:function(){return this.element.is(":"+x)},close:function(){var t,n,i,s=this,r=s.options;if(s.visible()){if(s._closing||s.trigger(p))return;s.element.find(".k-popup").each(function(){var t=e(this),o=t.data("kendoPopup");o&&o.close()}),O.unbind(E,s._mousedownProxy),H.unbind(S,s._resizeProxy),t=A(!0,{},r.animation.close),n=s.element.data(C),i=t.effects,s.wrapper=o.wrap(s.element).css({overflow:_}),!i&&!o.size(i)&&n&&o.size(n)&&(t.effects=n,t.reverse=!0),s._closing=!0,s.element.kendoStop(!0).kendoAnimate(t)}},_resize:function(){var e,o,n=this;if(l){if(o=I.width(),o==n._currentWidth)return;n._currentWidth=o}try{e=document.activeElement}catch(i){}n._hovered||t(n.element[0],e)||n.close()},_mousedown:function(n){var i=this,s=i.element[0],r=i.options,a=e(r.anchor)[0],l=r.toggleTarget,d=o.eventTarget(n),p=e(d).closest(".k-popup")[0];p&&p!==i.element[0]||t(s,d)||t(a,d)||l&&t(e(l)[0],d)||i.close()},_fit:function(e,t,o){var n=0;return e+t>o&&(n=o-(e+t)),0>e&&(n=-e),n},_flip:function(e,t,o,n,i,s,r){var a=0;return r=r||t,s!==i&&s!==u&&i!==u&&(e+r>n&&(a+=-(o+t)),0>e+a&&(a+=o+t)),a},_position:function(t){var o,n,i,a,l,d,p,c,f,u=this,m=u.element.css(y,""),g=u.wrapper,h=u.options,w=e(h.viewport),_=e(w).offset(),b=e(h.anchor),x=h.origin.toLowerCase().split(" "),C=h.position.toLowerCase().split(" "),P=u.collisions,T=s.zoomLevel(),W=10002,E=0,I=b.parents().filter(g.siblings());if(I[0])if(n=Number(e(I).css("zIndex")))W=n+1;else for(o=b.parentsUntil(I),i=o.length;i>E;E++)n=Number(e(o[E]).css("zIndex")),n&&n>W&&(W=n+1);return g.css("zIndex",W),t&&t.isFixed?g.css({left:t.x,top:t.y}):g.css(u._align(x,C)),a=r(g,y),l=r(g),d=b.offsetParent().parent(".k-animation-container"),d.length&&d.data(z)&&(a=r(g,y),l=r(g)),w[0]===window?(l.top-=window.pageYOffset||document.documentElement.scrollTop||0,l.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(l.top-=_.top,l.left-=_.left),u.wrapper.data(k)||g.data(k,A({},a)),p=A({},l),c=A({},a),"fit"===P[0]&&(c.top+=u._fit(p.top,g.outerHeight(),w.height()/T)),"fit"===P[1]&&(c.left+=u._fit(p.left,g.outerWidth(),w.width()/T)),c.left!=a.left||c.top!=a.top?g.data(z,!0):g.removeData(z),f=A({},c),"flip"===P[0]&&(c.top+=u._flip(p.top,m.outerHeight(),b.outerHeight(),w.height()/T,x[0],C[0],g.outerHeight())),"flip"===P[1]&&(c.left+=u._flip(p.left,m.outerWidth(),b.outerWidth(),w.width()/T,x[1],C[1],g.outerWidth())),m.css(y,v),g.css(c),c.left!=f.left||c.top!=f.top},_align:function(t,o){var n,i=this,s=i.wrapper,a=e(i.options.anchor),l=t[0],d=t[1],p=o[0],c=o[1],f=r(a),m=e(i.options.appendTo),h=s.outerWidth(),v=s.outerHeight(),_=a.outerWidth(),b=a.outerHeight(),k=f.top,y=f.left,x=Math.round;return m[0]!=document.body&&(n=r(m),k-=n.top,y-=n.left),l===w&&(k+=b),l===u&&(k+=x(b/2)),p===w&&(k-=v),p===u&&(k-=x(v/2)),d===g&&(y+=_),d===u&&(y+=x(_/2)),c===g&&(y-=h),c===u&&(y-=x(h/2)),{top:k,left:y}}});n.plugin(j)})(window.kendo.jQuery)});